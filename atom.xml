<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://qinyu312.github.io</id>
    <title>Ò‰Ò‰Òˆæ·¸é· Ò‰Ò‰Òˆã€</title>
    <updated>2021-03-11T08:34:05.367Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://qinyu312.github.io"/>
    <link rel="self" href="https://qinyu312.github.io/atom.xml"/>
    <subtitle>ä¸‡èˆ¬çš†è‹¦ï¼Œå”¯æœ‰è‡ªæ¸¡</subtitle>
    <logo>https://qinyu312.github.io/images/avatar.png</logo>
    <icon>https://qinyu312.github.io/favicon.ico</icon>
    <rights>All rights reserved 2021, Ò‰Ò‰Òˆæ·¸é· Ò‰Ò‰Òˆã€</rights>
    <entry>
        <title type="html"><![CDATA[åœ°å›¾å®šä½ç›¸å…³]]></title>
        <id>https://qinyu312.github.io/post/di-tu-ding-wei-xiang-guan/</id>
        <link href="https://qinyu312.github.io/post/di-tu-ding-wei-xiang-guan/">
        </link>
        <updated>2021-02-18T01:57:38.000Z</updated>
        <content type="html"><![CDATA[<h2 id="jsè·å–å½“å‰åœ°ç†ä½ç½®ç»çº¬åº¦">JSè·å–å½“å‰åœ°ç†ä½ç½®(ç»çº¬åº¦)</h2>
<pre><code>if(navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(
        function (position) {  
            console.log( position.coords.longitude );
            console.log( position.coords.latitude );
        },
        function (e) {
           throw(e.message);
        }
    ) 
}
</code></pre>
<h2 id="å¾®ä¿¡å°ç¨‹åºè·å–å½“å‰åœ°ç†ä½ç½®ç»çº¬åº¦">å¾®ä¿¡å°ç¨‹åºè·å–å½“å‰åœ°ç†ä½ç½®(ç»çº¬åº¦)</h2>
<pre><code>wx.getLocation({
      altitude: 'altitude',
      isHighAccuracy: true, 
      success(res) {
        // æ‰‹æœºç»çº¬åº¦å®šä½æ›´åŠ ç²¾å‡†ï¼Œéœ€è¦æˆªå–åˆ°å°æ•°ç‚¹åå…­ä½
        var currentLatitude = (res.latitude).toFixed(6);  //çº¬åº¦
        var currentLongitude = (res.longitude).toFixed(6); //ç»åº¦
        console.log(currentLatitude , currentLongitude)
        this.setData({
          // ç»åº¦
          longitude: currentLongitude,
          // çº¬åº¦
          latitude: currentLatitude
        })
      }
    })
</code></pre>
<h2 id="å¾®ä¿¡å°ç¨‹åºé€šè¿‡ç»çº¬åº¦é€†æ¨è·å–å½“å‰åŸå¸‚ä¿¡æ¯">å¾®ä¿¡å°ç¨‹åºé€šè¿‡ç»çº¬åº¦é€†æ¨è·å–å½“å‰åŸå¸‚ä¿¡æ¯</h2>
<ol>
<li>é¦–å…ˆéœ€è¦å»<a href="https://lbs.qq.com/miniProgram/jsSdk/jsSdkGuide/jsSdkOverview">è…¾è®¯ä½ç½®æœåŠ¡å®˜ç½‘</a>ï¼Œ<a href="https://lbs.qq.com/dev/console/application/mine">ç”³è¯·å¼€å‘è€…å¯†é’¥</a><br>
<img src="https://qinyu312.github.io/post-images/1613641773112.png" alt="" loading="lazy"></li>
<li>å¼€é€šwebserviceAPIæœåŠ¡ï¼šåœ¨æ§åˆ¶å° -&gt; keyç®¡ç† -&gt; è®¾ç½®ï¼ˆä½¿ç”¨è¯¥åŠŸèƒ½çš„keyï¼‰-&gt; å‹¾é€‰webserviceAPI -&gt; ä¿å­˜ã€‚(å°ç¨‹åºSDKéœ€è¦ç”¨åˆ°webserviceAPIçš„éƒ¨åˆ†æœåŠ¡ï¼Œæ‰€ä»¥ä½¿ç”¨è¯¥åŠŸèƒ½çš„KEYéœ€è¦å…·å¤‡ç›¸åº”çš„æƒé™)</li>
<li>ä¸‹è½½å¾®ä¿¡å°ç¨‹åºJavaScriptSDKï¼Œå¾®ä¿¡å°ç¨‹åºJavaScriptSDK v1.1   JavaScriptSDK v1.2</li>
<li>å®‰å…¨åŸŸåè®¾ç½®ï¼Œåœ¨å°ç¨‹åºç®¡ç†åå° -&gt; å¼€å‘ -&gt; å¼€å‘ç®¡ç† -&gt; å¼€å‘è®¾ç½® -&gt; â€œæœåŠ¡å™¨åŸŸåâ€ ä¸­è®¾ç½®requeståˆæ³•åŸŸåï¼Œæ·»åŠ https://apis.map.qq.com</li>
<li>ç¤ºä¾‹å¦‚ä¸‹</li>
</ol>
<pre><code>getAddress() {
    var that = this
    &lt;!-- è°ƒç”¨å¾®ä¿¡å°ç¨‹åºè·å–ç»çº¬åº¦API --&gt;
    wx.getLocation({
      altitude: 'altitude',
      isHighAccuracy: true, 
      success(res) {
        // æ‰‹æœºç»çº¬åº¦å®šä½æ›´åŠ ç²¾å‡†ï¼Œéœ€è¦æˆªå–åˆ°å°æ•°ç‚¹åå…­ä½
        var currentLatitude = (res.latitude).toFixed(6);  //çº¬åº¦
        var currentLongitude = (res.longitude).toFixed(6); //ç»åº¦
        &lt;!-- å°†ç»çº¬åº¦å­˜å‚¨åœ¨dataä¸­ --&gt;
        that.setData({
          // ç»åº¦
          longitude: currentLongitude,
          // çº¬åº¦
          latitude: currentLatitude
        })
        // é€†è§£ææ¥å£ /ws/geocoder/v1
        &lt;!-- å®šä¹‰ä¸€ä¸ªå˜é‡ç”¨äºæ‹¼æ¥åœ°å€é€†è§£ææ¥å£ï¼Œkeyå€¼æ˜¯è…¾è®¯ä½ç½®æœåŠ¡ä¸­æ³¨å†Œåç”Ÿæˆçš„ key --&gt;
        var qqMapApi = 'http://apis.map.qq.com/ws/geocoder/v1/' + &quot;?location=&quot; + that.data.latitude + ',' +
        that.data.longitude + &quot;&amp;key=&quot; + 'ZHHBZ-MCN6D-HUX4Y-PL7SW-KM4TQ-WYBDZ' + &quot;&amp;get_poi=1&quot;;
        &lt;!-- æ‹¼æ¥å®Œæˆåä½œä¸ºå‚æ•°ä½¿ç”¨ --&gt;
        that.getSkys(qqMapApi);
      }
    })
  },
  &lt;!-- è°ƒç”¨æ¥å£å°†å‚æ•°ä½œä¸º url å‘é€è¯·æ±‚ --&gt;
  getSkys(qqMapApi){
    const that = this
    wx.request({
      url: qqMapApi,
      header: {
        'Content-Type': 'application/json'
      },
      data: {},
      method:'GET',
      success: (res) =&gt; {
          &lt;!-- è·å–çš„è¿”å›å€¼æ•°æ®å°±æ˜¯ä¼ å…¥çš„ç»çº¬åº¦æå–åˆ°çš„ å„çº§åœ°ç†æ•°æ®ä¿¡æ¯ --&gt;
        if (res.statusCode == 200 &amp;&amp; res.data.status == 0) {
          // ä»è¿”å›å€¼ä¸­æå–éœ€è¦çš„ä¸šåŠ¡åœ°ç†ä¿¡æ¯æ•°æ® å›½å®¶ã€çœã€å¸‚ã€å¿åŒºã€è¡—é“
          // that.setData({ nation: res.data.result.address_component.nation });
          // that.setData({ province: res.data.result.address_component.province });
          that.setData({ city: res.data.result.address_component.city });
          // that.setData({ district: res.data.result.address_component.district });
          // that.setData({ street: res.data.result.address_component.street });
          wx.request({
            url: &quot;http://wthrcdn.etouch.cn/weather_mini&quot;,
            data: {city: res.data.result.address_component.city},
            // data: {city: 'æ˜†æ˜'},
            method: 'GET',
            success: res =&gt; {
              var low = res.data.data.forecast[0].low.split(' ', 2)[1]
              var high = res.data.data.forecast[0].high.split(' ', 2)[1]
              var skyTitle = low + '~' + high + ' ' + res.data.data.forecast[0].type
              var skyType = res.data.data.forecast[0].type
              this.setData({
                skyType: skyType,
                skyTitle: skyTitle
              })
              console.log(skyTitle)
            }
          })
        }
      }
    })
  },
</code></pre>
<p>æœ€åå¾—åˆ°æ‰€éœ€è¦çš„ä½ç½®ä¿¡æ¯<br>
<img src="https://qinyu312.github.io/post-images/1613641792498.png" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[2.5åŸºé‡‘æ—¥æŠ¥]]></title>
        <id>https://qinyu312.github.io/post/25-ji-jin-ri-bao/</id>
        <link href="https://qinyu312.github.io/post/25-ji-jin-ri-bao/">
        </link>
        <updated>2021-02-05T07:07:52.000Z</updated>
        <content type="html"><![CDATA[<p>æœ€è¿‘å‡ å¤©æ–°èƒ½æºå’Œå†›å·¥åˆåˆåˆè¢«é”¤è‚¿äº†ï¼Œå¯èƒ½å—æ˜¥è¿å›å®¶æ ¸é…¸æ£€æµ‹å’Œç–«è‹—æ¥ç§çš„å½±å“ï¼ŒåŒ»è¯æœ€è¿‘å‡ å¤©èµ°åŠ¿å¤§å¥½ï¼Œæœˆåˆå‡ å¤©ç¾è‚¡æ¸¸æˆé©¿ç«™äº‹ä»¶ï¼ŒAè‚¡ä¹Ÿæ˜¯ä¸€ç‰‡å“€åšä¸€ç‰‡ç»¿ï¼Œä½†æ˜¯ç™½é…’å´é€†åŠ¿ä¸Šæ‰¬ï¼Œè®©æˆ‘æƒ³èµ·ä¸€å¥è¯ï¼Œç™½é…’ç”Ÿï¼Œä¸‡ç‰©æ­»ã€‚ä»Šå¤©æ–°èƒ½æºå’Œå†›å·¥å¤§è·Œï¼Œç†æ€§åŠ ä¸€äº›ä»“ä½ï¼Œä¸ªäººè§‰å¾—æ–°èƒ½æºæ˜¯é•¿æœŸåˆ©å¥½ï¼Œä¹Ÿæ˜¯æœªæ¥çš„å‘å±•è¶‹åŠ¿ï¼Œå†›å·¥åœ¨ä»Šå¹´çš„åå››äº”è§„åˆ’ä¸­ä¹Ÿæœ‰æœ›å¤§æ”¾å¼‚å½©ï¼ŒåŒ»è¯æ–¹é¢ï¼Œç”±äºäººå£è€é¾„åŒ–åŠ é€ŸåŠåŒ»ç–—æ°´å¹³æé«˜ï¼Œå¯ä½œä¸ºé•¿æœŸæŠ•èµ„ï¼ŒåŠå¯¼ä½“5Gæ–¹é¢è°¨æ…ä¸Šè½¦ï¼Œæœ‰è‰²é‡‘å±å¯é€‚å½“ä¸Šè½¦ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[AESåŠ å¯†å‰ç«¯æ“ä½œ]]></title>
        <id>https://qinyu312.github.io/post/jia-mi-cao-zuo/</id>
        <link href="https://qinyu312.github.io/post/jia-mi-cao-zuo/">
        </link>
        <updated>2021-02-04T09:12:12.000Z</updated>
        <content type="html"><![CDATA[<h1 id="aeså‰ç«¯åŠ å¯†">aeså‰ç«¯åŠ å¯†</h1>
<p>æœ€è¿‘åœ¨å¼€å‘å¾®ä¿¡å°ç¨‹åºï¼Œç”±äºæ˜¯å›½ä¼é¡¹ç›®ï¼Œä¸Šçº¿å‰éƒ½éœ€è¦åšå¥½å‡ æ¬¡å®‰å…¨æ¼æ´æ‰«æï¼Œæ‰€ä»¥æ•°æ®æ¥å£éƒ½éœ€è¦äºŒæ¬¡å°è£…å¹¶è¿›è¡ŒåŠ è§£å¯†çš„æ“ä½œæ¥ç¡®ä¿å®‰å…¨æ€§ï¼Œæœ€åå’Œåç«¯åŒäº‹å•†è®®ï¼Œä½¿ç”¨aesè¿›è¡ŒåŠ å¯†ï¼ŒåŸç†æ˜¯å‰ç«¯è¯·æ±‚çš„åç«¯æ¥å£ï¼Œé™¤ç»Ÿä¸€åŸŸåå‰ç¼€éƒ¨åˆ†å¤–ï¼Œåé¢æ¥å£éƒ¨åˆ†å…¨éƒ¨ä½¿ç”¨å…¬å…±å‚æ•° ä¾‹å¦‚common è¿›è¡Œæ›¿æ¢ï¼Œç„¶åå°†æ¥å£åç§°ï¼Œæ¥å£æ‰€éœ€å‚æ•°ç­‰ä¿¡æ¯ï¼Œé€šè¿‡ aes åŠ å¯†åä¼ è¾“ç»™åç«¯ï¼Œåç«¯æ‹¿åˆ°åŠ å¯†åçš„å­—ç¬¦ä¸²ï¼Œé€šè¿‡è§£å¯†ç®—æ³•å¾—åˆ°æ¥å£åç§°åŠå‚æ•°ï¼Œæ¥è°ƒç”¨å¯¹ç”¨çš„æ¥å£ï¼Œç„¶åå°†è¿”å›å€¼åŒæ ·ç»è¿‡åŠ å¯†åè¿”å›ç»™å‰ç«¯ï¼Œå‰ç«¯æ‹¿åˆ°åŠ å¯†ä¸²åè§£å¯†ï¼Œå¾—åˆ°JSONå¯¹è±¡ï¼Œè½¬æ¢åå¾—åˆ°æ¥å£æ•°æ®è¿›è¡Œé¡µé¢æ¸²æŸ“ã€‚</p>
<p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<ol>
<li>å°†åŠ è§£å¯†æ–¹æ³•æ“ä½œå°è£…åœ¨ public.js å’Œ aes.js ä¸¤ä¸ªæ–‡ä»¶ä¸­</li>
</ol>
<pre><code>&lt;!-- public.js --&gt;

var CryptoJS = require('./aes.js'); //å¼•ç”¨AESæºç js
var key = CryptoJS.enc.Utf8.parse(&quot;richeninfo202121&quot;); //åå…­ä½åå…­è¿›åˆ¶æ•°ä½œä¸ºç§˜é’¥
var iv = CryptoJS.enc.Utf8.parse('richeninfo202121');//åå…­ä½åå…­è¿›åˆ¶æ•°ä½œä¸ºç§˜é’¥åç§»é‡
//è§£å¯†æ–¹æ³•
function Decrypt(word) {
    var encryptedHexStr = CryptoJS.enc.Hex.parse(word);
    var srcs = CryptoJS.enc.Base64.stringify(encryptedHexStr);
    var decrypt = CryptoJS.AES.decrypt(srcs, key, {
        iv: iv,
        mode: CryptoJS.mode.CBC,
        padding: CryptoJS.pad.Pkcs7
    });
    var decryptedStr = decrypt.toString(CryptoJS.enc.Utf8);
    return decryptedStr.toString();
}
//åŠ å¯†æ–¹æ³•
function Encrypt(word) {
    var srcs = CryptoJS.enc.Utf8.parse(word);
    var encrypted = CryptoJS.AES.encrypt(srcs, key, {
        iv: iv,
        mode: CryptoJS.mode.CBC,
        padding: CryptoJS.pad.Pkcs7
    });
    return encrypted.ciphertext.toString().toUpperCase();
}
 
//æš´éœ²æ¥å£
module.exports.Decrypt = Decrypt;
module.exports.Encrypt = Encrypt;
</code></pre>
<pre><code>&lt;!-- aes.js --&gt;
/**
 * [description] CryptoJS v3.1.2 
 * [description] zhuangzhudada sort out 
 */
var CryptoJS = CryptoJS || function(u, p) {
  var d = {},
      l = d.lib = {},
      s = function() {},
      t = l.Base = {
          extend: function(a) {
              s.prototype = this;
              var c = new s;
              a &amp;&amp; c.mixIn(a);
              c.hasOwnProperty(&quot;init&quot;) || (c.init = function() {
                  c.$super.init.apply(this, arguments)
              });
              c.init.prototype = c;
              c.$super = this;
              return c
          },
          create: function() {
              var a = this.extend();
              a.init.apply(a, arguments);
              return a
          },
          init: function() {},
          mixIn: function(a) {
              for (var c in a) a.hasOwnProperty(c) &amp;&amp; (this[c] = a[c]);
              a.hasOwnProperty(&quot;toString&quot;) &amp;&amp; (this.toString = a.toString)
          },
          clone: function() {
              return this.init.prototype.extend(this)
          }
      },
      r = l.WordArray = t.extend({
          init: function(a, c) {
              a = this.words = a || [];
              this.sigBytes = c != p ? c : 4 * a.length
          },
          toString: function(a) {
              return (a || v).stringify(this)
          },
          concat: function(a) {
              var c = this.words,
                  e = a.words,
                  j = this.sigBytes;
              a = a.sigBytes;
              this.clamp();
              if (j % 4)
                  for (var k = 0; k &lt; a; k++) c[j + k &gt;&gt;&gt; 2] |= (e[k &gt;&gt;&gt; 2] &gt;&gt;&gt; 24 - 8 * (k % 4) &amp; 255) &lt;&lt; 24 - 8 * ((j + k) % 4);
              else if (65535 &lt; e.length)
                  for (k = 0; k &lt; a; k += 4) c[j + k &gt;&gt;&gt; 2] = e[k &gt;&gt;&gt; 2];
              else c.push.apply(c, e);
              this.sigBytes += a;
              return this
          },
          clamp: function() {
              var a = this.words,
                  c = this.sigBytes;
              a[c &gt;&gt;&gt; 2] &amp;= 4294967295 &lt;&lt;
- 8 * (c % 4);
              a.length = u.ceil(c / 4)
          },
          clone: function() {
              var a = t.clone.call(this);
              a.words = this.words.slice(0);
              return a
          },
          random: function(a) {
              for (var c = [], e = 0; e &lt; a; e += 4) c.push(4294967296 * u.random() | 0);
              return new r.init(c, a)
          }
      }),
      w = d.enc = {},
      v = w.Hex = {
          stringify: function(a) {
              var c = a.words;
              a = a.sigBytes;
              for (var e = [], j = 0; j &lt; a; j++) {
                  var k = c[j &gt;&gt;&gt; 2] &gt;&gt;&gt; 24 - 8 * (j % 4) &amp; 255;
                  e.push((k &gt;&gt;&gt; 4).toString(16));
                  e.push((k &amp; 15).toString(16))
              }
              return e.join(&quot;&quot;)
          },
          parse: function(a) {
              for (var c = a.length, e = [], j = 0; j &lt; c; j += 2) e[j &gt;&gt;&gt; 3] |= parseInt(a.substr(j,
                  2), 16) &lt;&lt; 24 - 4 * (j % 8);
              return new r.init(e, c / 2)
          }
      },
      b = w.Latin1 = {
          stringify: function(a) {
              var c = a.words;
              a = a.sigBytes;
              for (var e = [], j = 0; j &lt; a; j++) e.push(String.fromCharCode(c[j &gt;&gt;&gt; 2] &gt;&gt;&gt; 24 - 8 * (j % 4) &amp; 255));
              return e.join(&quot;&quot;)
          },
          parse: function(a) {
              for (var c = a.length, e = [], j = 0; j &lt; c; j++) e[j &gt;&gt;&gt; 2] |= (a.charCodeAt(j) &amp; 255) &lt;&lt; 24 - 8 * (j % 4);
              return new r.init(e, c)
          }
      },
      x = w.Utf8 = {
          stringify: function(a) {
              try {
                  return decodeURIComponent(escape(b.stringify(a)))
              } catch (c) {
                  throw Error(&quot;Malformed UTF-8 data&quot;);
              }
          },
          parse: function(a) {
              return b.parse(unescape(encodeURIComponent(a)))
          }
      },
      q = l.BufferedBlockAlgorithm = t.extend({
          reset: function() {
              this._data = new r.init;
              this._nDataBytes = 0
          },
          _append: function(a) {
              &quot;string&quot; == typeof a &amp;&amp; (a = x.parse(a));
              this._data.concat(a);
              this._nDataBytes += a.sigBytes
          },
          _process: function(a) {
              var c = this._data,
                  e = c.words,
                  j = c.sigBytes,
                  k = this.blockSize,
                  b = j / (4 * k),
                  b = a ? u.ceil(b) : u.max((b | 0) - this._minBufferSize, 0);
              a = b * k;
              j = u.min(4 * a, j);
              if (a) {
                  for (var q = 0; q &lt; a; q += k) this._doProcessBlock(e, q);
                  q = e.splice(0, a);
                  c.sigBytes -= j
              }
              return new r.init(q, j)
          },
          clone: function() {
              var a = t.clone.call(this);
              a._data = this._data.clone();
              return a
          },
          _minBufferSize: 0
      });
  l.Hasher = q.extend({
      cfg: t.extend(),
      init: function(a) {
          this.cfg = this.cfg.extend(a);
          this.reset()
      },
      reset: function() {
          q.reset.call(this);
          this._doReset()
      },
      update: function(a) {
          this._append(a);
          this._process();
          return this
      },
      finalize: function(a) {
          a &amp;&amp; this._append(a);
          return this._doFinalize()
      },
      blockSize: 16,
      _createHelper: function(a) {
          return function(b, e) {
              return (new a.init(e)).finalize(b)
          }
      },
      _createHmacHelper: function(a) {
          return function(b, e) {
              return (new n.HMAC.init(a,
                  e)).finalize(b)
          }
      }
  });
  var n = d.algo = {};
  return d
}(Math);
(function() {
  var u = CryptoJS,
      p = u.lib.WordArray;
  u.enc.Base64 = {
      stringify: function(d) {
          var l = d.words,
              p = d.sigBytes,
              t = this._map;
          d.clamp();
          d = [];
          for (var r = 0; r &lt; p; r += 3)
              for (var w = (l[r &gt;&gt;&gt; 2] &gt;&gt;&gt; 24 - 8 * (r % 4) &amp; 255) &lt;&lt; 16 | (l[r + 1 &gt;&gt;&gt; 2] &gt;&gt;&gt; 24 - 8 * ((r + 1) % 4) &amp; 255) &lt;&lt; 8 | l[r + 2 &gt;&gt;&gt; 2] &gt;&gt;&gt; 24 - 8 * ((r + 2) % 4) &amp; 255, v = 0; 4 &gt; v &amp;&amp; r + 0.75 * v &lt; p; v++) d.push(t.charAt(w &gt;&gt;&gt; 6 * (3 - v) &amp; 63));
          if (l = t.charAt(64))
              for (; d.length % 4;) d.push(l);
          return d.join(&quot;&quot;)
      },
      parse: function(d) {
          var l = d.length,
              s = this._map,
              t = s.charAt(64);
          t &amp;&amp; (t = d.indexOf(t), -1 != t &amp;&amp; (l = t));
          for (var t = [], r = 0, w = 0; w &lt;
              l; w++)
              if (w % 4) {
                  var v = s.indexOf(d.charAt(w - 1)) &lt;&lt; 2 * (w % 4),
                      b = s.indexOf(d.charAt(w)) &gt;&gt;&gt; 6 - 2 * (w % 4);
                  t[r &gt;&gt;&gt; 2] |= (v | b) &lt;&lt; 24 - 8 * (r % 4);
                  r++
              }
          return p.create(t, r)
      },
      _map: &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=&quot;
  }
})();
(function(u) {
  function p(b, n, a, c, e, j, k) {
      b = b + (n &amp; a | ~n &amp; c) + e + k;
      return (b &lt;&lt; j | b &gt;&gt;&gt; 32 - j) + n
  }

  function d(b, n, a, c, e, j, k) {
      b = b + (n &amp; c | a &amp; ~c) + e + k;
      return (b &lt;&lt; j | b &gt;&gt;&gt; 32 - j) + n
  }

  function l(b, n, a, c, e, j, k) {
      b = b + (n ^ a ^ c) + e + k;
      return (b &lt;&lt; j | b &gt;&gt;&gt; 32 - j) + n
  }

  function s(b, n, a, c, e, j, k) {
      b = b + (a ^ (n | ~c)) + e + k;
      return (b &lt;&lt; j | b &gt;&gt;&gt; 32 - j) + n
  }
  for (var t = CryptoJS, r = t.lib, w = r.WordArray, v = r.Hasher, r = t.algo, b = [], x = 0; 64 &gt; x; x++) b[x] = 4294967296 * u.abs(u.sin(x + 1)) | 0;
  r = r.MD5 = v.extend({
      _doReset: function() {
          this._hash = new w.init([1732584193, 4023233417, 2562383102, 271733878])
      },
      _doProcessBlock: function(q, n) {
          for (var a = 0; 16 &gt; a; a++) {
              var c = n + a,
                  e = q[c];
              q[c] = (e &lt;&lt; 8 | e &gt;&gt;&gt; 24) &amp; 16711935 | (e &lt;&lt; 24 | e &gt;&gt;&gt; 8) &amp; 4278255360
          }
          var a = this._hash.words,
              c = q[n + 0],
              e = q[n + 1],
              j = q[n + 2],
              k = q[n + 3],
              z = q[n + 4],
              r = q[n + 5],
              t = q[n + 6],
              w = q[n + 7],
              v = q[n + 8],
              A = q[n + 9],
              B = q[n + 10],
              C = q[n + 11],
              u = q[n + 12],
              D = q[n + 13],
              E = q[n + 14],
              x = q[n + 15],
              f = a[0],
              m = a[1],
              g = a[2],
              h = a[3],
              f = p(f, m, g, h, c, 7, b[0]),
              h = p(h, f, m, g, e, 12, b[1]),
              g = p(g, h, f, m, j, 17, b[2]),
              m = p(m, g, h, f, k, 22, b[3]),
              f = p(f, m, g, h, z, 7, b[4]),
              h = p(h, f, m, g, r, 12, b[5]),
              g = p(g, h, f, m, t, 17, b[6]),
              m = p(m, g, h, f, w, 22, b[7]),
              f = p(f, m, g, h, v, 7, b[8]),
              h = p(h, f, m, g, A, 12, b[9]),
              g = p(g, h, f, m, B, 17, b[10]),
              m = p(m, g, h, f, C, 22, b[11]),
              f = p(f, m, g, h, u, 7, b[12]),
              h = p(h, f, m, g, D, 12, b[13]),
              g = p(g, h, f, m, E, 17, b[14]),
              m = p(m, g, h, f, x, 22, b[15]),
              f = d(f, m, g, h, e, 5, b[16]),
              h = d(h, f, m, g, t, 9, b[17]),
              g = d(g, h, f, m, C, 14, b[18]),
              m = d(m, g, h, f, c, 20, b[19]),
              f = d(f, m, g, h, r, 5, b[20]),
              h = d(h, f, m, g, B, 9, b[21]),
              g = d(g, h, f, m, x, 14, b[22]),
              m = d(m, g, h, f, z, 20, b[23]),
              f = d(f, m, g, h, A, 5, b[24]),
              h = d(h, f, m, g, E, 9, b[25]),
              g = d(g, h, f, m, k, 14, b[26]),
              m = d(m, g, h, f, v, 20, b[27]),
              f = d(f, m, g, h, D, 5, b[28]),
              h = d(h, f,
                  m, g, j, 9, b[29]),
              g = d(g, h, f, m, w, 14, b[30]),
              m = d(m, g, h, f, u, 20, b[31]),
              f = l(f, m, g, h, r, 4, b[32]),
              h = l(h, f, m, g, v, 11, b[33]),
              g = l(g, h, f, m, C, 16, b[34]),
              m = l(m, g, h, f, E, 23, b[35]),
              f = l(f, m, g, h, e, 4, b[36]),
              h = l(h, f, m, g, z, 11, b[37]),
              g = l(g, h, f, m, w, 16, b[38]),
              m = l(m, g, h, f, B, 23, b[39]),
              f = l(f, m, g, h, D, 4, b[40]),
              h = l(h, f, m, g, c, 11, b[41]),
              g = l(g, h, f, m, k, 16, b[42]),
              m = l(m, g, h, f, t, 23, b[43]),
              f = l(f, m, g, h, A, 4, b[44]),
              h = l(h, f, m, g, u, 11, b[45]),
              g = l(g, h, f, m, x, 16, b[46]),
              m = l(m, g, h, f, j, 23, b[47]),
              f = s(f, m, g, h, c, 6, b[48]),
              h = s(h, f, m, g, w, 10, b[49]),
              g = s(g, h, f, m,
                  E, 15, b[50]),
              m = s(m, g, h, f, r, 21, b[51]),
              f = s(f, m, g, h, u, 6, b[52]),
              h = s(h, f, m, g, k, 10, b[53]),
              g = s(g, h, f, m, B, 15, b[54]),
              m = s(m, g, h, f, e, 21, b[55]),
              f = s(f, m, g, h, v, 6, b[56]),
              h = s(h, f, m, g, x, 10, b[57]),
              g = s(g, h, f, m, t, 15, b[58]),
              m = s(m, g, h, f, D, 21, b[59]),
              f = s(f, m, g, h, z, 6, b[60]),
              h = s(h, f, m, g, C, 10, b[61]),
              g = s(g, h, f, m, j, 15, b[62]),
              m = s(m, g, h, f, A, 21, b[63]);
          a[0] = a[0] + f | 0;
          a[1] = a[1] + m | 0;
          a[2] = a[2] + g | 0;
          a[3] = a[3] + h | 0
      },
      _doFinalize: function() {
          var b = this._data,
              n = b.words,
              a = 8 * this._nDataBytes,
              c = 8 * b.sigBytes;
          n[c &gt;&gt;&gt; 5] |= 128 &lt;&lt; 24 - c % 32;
          var e = u.floor(a /
              4294967296);
          n[(c + 64 &gt;&gt;&gt; 9 &lt;&lt; 4) + 15] = (e &lt;&lt; 8 | e &gt;&gt;&gt; 24) &amp; 16711935 | (e &lt;&lt; 24 | e &gt;&gt;&gt; 8) &amp; 4278255360;
          n[(c + 64 &gt;&gt;&gt; 9 &lt;&lt; 4) + 14] = (a &lt;&lt; 8 | a &gt;&gt;&gt; 24) &amp; 16711935 | (a &lt;&lt; 24 | a &gt;&gt;&gt; 8) &amp; 4278255360;
          b.sigBytes = 4 * (n.length + 1);
          this._process();
          b = this._hash;
          n = b.words;
          for (a = 0; 4 &gt; a; a++) c = n[a], n[a] = (c &lt;&lt; 8 | c &gt;&gt;&gt; 24) &amp; 16711935 | (c &lt;&lt; 24 | c &gt;&gt;&gt; 8) &amp; 4278255360;
          return b
      },
      clone: function() {
          var b = v.clone.call(this);
          b._hash = this._hash.clone();
          return b
      }
  });
  t.MD5 = v._createHelper(r);
  t.HmacMD5 = v._createHmacHelper(r)
})(Math);
(function() {
  var u = CryptoJS,
      p = u.lib,
      d = p.Base,
      l = p.WordArray,
      p = u.algo,
      s = p.EvpKDF = d.extend({
          cfg: d.extend({
              keySize: 4,
              hasher: p.MD5,
              iterations: 1
          }),
          init: function(d) {
              this.cfg = this.cfg.extend(d)
          },
          compute: function(d, r) {
              for (var p = this.cfg, s = p.hasher.create(), b = l.create(), u = b.words, q = p.keySize, p = p.iterations; u.length &lt; q;) {
                  n &amp;&amp; s.update(n);
                  var n = s.update(d).finalize(r);
                  s.reset();
                  for (var a = 1; a &lt; p; a++) n = s.finalize(n), s.reset();
                  b.concat(n)
              }
              b.sigBytes = 4 * q;
              return b
          }
      });
  u.EvpKDF = function(d, l, p) {
      return s.create(p).compute(d,
          l)
  }
})();
CryptoJS.lib.Cipher || function(u) {
  var p = CryptoJS,
      d = p.lib,
      l = d.Base,
      s = d.WordArray,
      t = d.BufferedBlockAlgorithm,
      r = p.enc.Base64,
      w = p.algo.EvpKDF,
      v = d.Cipher = t.extend({
          cfg: l.extend(),
          createEncryptor: function(e, a) {
              return this.create(this._ENC_XFORM_MODE, e, a)
          },
          createDecryptor: function(e, a) {
              return this.create(this._DEC_XFORM_MODE, e, a)
          },
          init: function(e, a, b) {
              this.cfg = this.cfg.extend(b);
              this._xformMode = e;
              this._key = a;
              this.reset()
          },
          reset: function() {
              t.reset.call(this);
              this._doReset()
          },
          process: function(e) {
              this._append(e);
              return this._process()
          },
          finalize: function(e) {
              e &amp;&amp; this._append(e);
              return this._doFinalize()
          },
          keySize: 4,
          ivSize: 4,
          _ENC_XFORM_MODE: 1,
          _DEC_XFORM_MODE: 2,
          _createHelper: function(e) {
              return {
                  encrypt: function(b, k, d) {
                      return (&quot;string&quot; == typeof k ? c : a).encrypt(e, b, k, d)
                  },
                  decrypt: function(b, k, d) {
                      return (&quot;string&quot; == typeof k ? c : a).decrypt(e, b, k, d)
                  }
              }
          }
      });
  d.StreamCipher = v.extend({
      _doFinalize: function() {
          return this._process(!0)
      },
      blockSize: 1
  });
  var b = p.mode = {},
      x = function(e, a, b) {
          var c = this._iv;
          c ? this._iv = u : c = this._prevBlock;
          for (var d = 0; d &lt; b; d++) e[a + d] ^=
              c[d]
      },
      q = (d.BlockCipherMode = l.extend({
          createEncryptor: function(e, a) {
              return this.Encryptor.create(e, a)
          },
          createDecryptor: function(e, a) {
              return this.Decryptor.create(e, a)
          },
          init: function(e, a) {
              this._cipher = e;
              this._iv = a
          }
      })).extend();
  q.Encryptor = q.extend({
      processBlock: function(e, a) {
          var b = this._cipher,
              c = b.blockSize;
          x.call(this, e, a, c);
          b.encryptBlock(e, a);
          this._prevBlock = e.slice(a, a + c)
      }
  });
  q.Decryptor = q.extend({
      processBlock: function(e, a) {
          var b = this._cipher,
              c = b.blockSize,
              d = e.slice(a, a + c);
          b.decryptBlock(e, a);
          x.call(this,
              e, a, c);
          this._prevBlock = d
      }
  });
  b = b.CBC = q;
  q = (p.pad = {}).Pkcs7 = {
      pad: function(a, b) {
          for (var c = 4 * b, c = c - a.sigBytes % c, d = c &lt;&lt; 24 | c &lt;&lt; 16 | c &lt;&lt; 8 | c, l = [], n = 0; n &lt; c; n += 4) l.push(d);
          c = s.create(l, c);
          a.concat(c)
      },
      unpad: function(a) {
          a.sigBytes -= a.words[a.sigBytes - 1 &gt;&gt;&gt; 2] &amp; 255
      }
  };
  d.BlockCipher = v.extend({
      cfg: v.cfg.extend({
          mode: b,
          padding: q
      }),
      reset: function() {
          v.reset.call(this);
          var a = this.cfg,
              b = a.iv,
              a = a.mode;
          if (this._xformMode == this._ENC_XFORM_MODE) var c = a.createEncryptor;
          else c = a.createDecryptor, this._minBufferSize = 1;
          this._mode = c.call(a,
              this, b &amp;&amp; b.words)
      },
      _doProcessBlock: function(a, b) {
          this._mode.processBlock(a, b)
      },
      _doFinalize: function() {
          var a = this.cfg.padding;
          if (this._xformMode == this._ENC_XFORM_MODE) {
              a.pad(this._data, this.blockSize);
              var b = this._process(!0)
          } else b = this._process(!0), a.unpad(b);
          return b
      },
      blockSize: 4
  });
  var n = d.CipherParams = l.extend({
          init: function(a) {
              this.mixIn(a)
          },
          toString: function(a) {
              return (a || this.formatter).stringify(this)
          }
      }),
      b = (p.format = {}).OpenSSL = {
          stringify: function(a) {
              var b = a.ciphertext;
              a = a.salt;
              return (a ? s.create([1398893684,
              ]).concat(a).concat(b) : b).toString(r)
          },
          parse: function(a) {
              a = r.parse(a);
              var b = a.words;
              if (1398893684 == b[0] &amp;&amp; 1701076831 == b[1]) {
                  var c = s.create(b.slice(2, 4));
                  b.splice(0, 4);
                  a.sigBytes -= 16
              }
              return n.create({
                  ciphertext: a,
                  salt: c
              })
          }
      },
      a = d.SerializableCipher = l.extend({
          cfg: l.extend({
              format: b
          }),
          encrypt: function(a, b, c, d) {
              d = this.cfg.extend(d);
              var l = a.createEncryptor(c, d);
              b = l.finalize(b);
              l = l.cfg;
              return n.create({
                  ciphertext: b,
                  key: c,
                  iv: l.iv,
                  algorithm: a,
                  mode: l.mode,
                  padding: l.padding,
                  blockSize: a.blockSize,
                  formatter: d.format
              })
          },
          decrypt: function(a, b, c, d) {
              d = this.cfg.extend(d);
              b = this._parse(b, d.format);
              return a.createDecryptor(c, d).finalize(b.ciphertext)
          },
          _parse: function(a, b) {
              return &quot;string&quot; == typeof a ? b.parse(a, this) : a
          }
      }),
      p = (p.kdf = {}).OpenSSL = {
          execute: function(a, b, c, d) {
              d || (d = s.random(8));
              a = w.create({
                  keySize: b + c
              }).compute(a, d);
              c = s.create(a.words.slice(b), 4 * c);
              a.sigBytes = 4 * b;
              return n.create({
                  key: a,
                  iv: c,
                  salt: d
              })
          }
      },
      c = d.PasswordBasedCipher = a.extend({
          cfg: a.cfg.extend({
              kdf: p
          }),
          encrypt: function(b, c, d, l) {
              l = this.cfg.extend(l);
              d = l.kdf.execute(d,
                  b.keySize, b.ivSize);
              l.iv = d.iv;
              b = a.encrypt.call(this, b, c, d.key, l);
              b.mixIn(d);
              return b
          },
          decrypt: function(b, c, d, l) {
              l = this.cfg.extend(l);
              c = this._parse(c, l.format);
              d = l.kdf.execute(d, b.keySize, b.ivSize, c.salt);
              l.iv = d.iv;
              return a.decrypt.call(this, b, c, d.key, l)
          }
      })
}();
(function() {
  for (var u = CryptoJS, p = u.lib.BlockCipher, d = u.algo, l = [], s = [], t = [], r = [], w = [], v = [], b = [], x = [], q = [], n = [], a = [], c = 0; 256 &gt; c; c++) a[c] = 128 &gt; c ? c &lt;&lt; 1 : c &lt;&lt; 1 ^ 283;
  for (var e = 0, j = 0, c = 0; 256 &gt; c; c++) {
      var k = j ^ j &lt;&lt; 1 ^ j &lt;&lt; 2 ^ j &lt;&lt; 3 ^ j &lt;&lt; 4,
          k = k &gt;&gt;&gt; 8 ^ k &amp; 255 ^ 99;
      l[e] = k;
      s[k] = e;
      var z = a[e],
          F = a[z],
          G = a[F],
          y = 257 * a[k] ^ 16843008 * k;
      t[e] = y &lt;&lt; 24 | y &gt;&gt;&gt; 8;
      r[e] = y &lt;&lt; 16 | y &gt;&gt;&gt; 16;
      w[e] = y &lt;&lt; 8 | y &gt;&gt;&gt; 24;
      v[e] = y;
      y = 16843009 * G ^ 65537 * F ^ 257 * z ^ 16843008 * e;
      b[k] = y &lt;&lt; 24 | y &gt;&gt;&gt; 8;
      x[k] = y &lt;&lt; 16 | y &gt;&gt;&gt; 16;
      q[k] = y &lt;&lt; 8 | y &gt;&gt;&gt; 24;
      n[k] = y;
      e ? (e = z ^ a[a[a[G ^ z]]], j ^= a[a[j]]) : e = j = 1
  }
  var H = [0, 1, 2, 4, 8,
          16, 32, 64, 128, 27, 54
      ],
      d = d.AES = p.extend({
          _doReset: function() {
              for (var a = this._key, c = a.words, d = a.sigBytes / 4, a = 4 * ((this._nRounds = d + 6) + 1), e = this._keySchedule = [], j = 0; j &lt; a; j++)
                  if (j &lt; d) e[j] = c[j];
                  else {
                      var k = e[j - 1];
                      j % d ? 6 &lt; d &amp;&amp; 4 == j % d &amp;&amp; (k = l[k &gt;&gt;&gt; 24] &lt;&lt; 24 | l[k &gt;&gt;&gt; 16 &amp; 255] &lt;&lt; 16 | l[k &gt;&gt;&gt; 8 &amp; 255] &lt;&lt; 8 | l[k &amp; 255]) : (k = k &lt;&lt; 8 | k &gt;&gt;&gt; 24, k = l[k &gt;&gt;&gt; 24] &lt;&lt; 24 | l[k &gt;&gt;&gt; 16 &amp; 255] &lt;&lt; 16 | l[k &gt;&gt;&gt; 8 &amp; 255] &lt;&lt; 8 | l[k &amp; 255], k ^= H[j / d | 0] &lt;&lt; 24);
                      e[j] = e[j - d] ^ k
                  }
              c = this._invKeySchedule = [];
              for (d = 0; d &lt; a; d++) j = a - d, k = d % 4 ? e[j] : e[j - 4], c[d] = 4 &gt; d || 4 &gt;= j ? k : b[l[k &gt;&gt;&gt; 24]] ^ x[l[k &gt;&gt;&gt; 16 &amp; 255]] ^ q[l[k &gt;&gt;&gt; 8 &amp; 255]] ^ n[l[k &amp; 255]]
          },
          encryptBlock: function(a, b) {
              this._doCryptBlock(a, b, this._keySchedule, t, r, w, v, l)
          },
          decryptBlock: function(a, c) {
              var d = a[c + 1];
              a[c + 1] = a[c + 3];
              a[c + 3] = d;
              this._doCryptBlock(a, c, this._invKeySchedule, b, x, q, n, s);
              d = a[c + 1];
              a[c + 1] = a[c + 3];
              a[c + 3] = d
          },
          _doCryptBlock: function(a, b, c, d, e, j, l, f) {
              for (var m = this._nRounds, g = a[b] ^ c[0], h = a[b + 1] ^ c[1], k = a[b + 2] ^ c[2], n = a[b + 3] ^ c[3], p = 4, r = 1; r &lt; m; r++) var q = d[g &gt;&gt;&gt; 24] ^ e[h &gt;&gt;&gt; 16 &amp; 255] ^ j[k &gt;&gt;&gt; 8 &amp; 255] ^ l[n &amp; 255] ^ c[p++],
                  s = d[h &gt;&gt;&gt; 24] ^ e[k &gt;&gt;&gt; 16 &amp; 255] ^ j[n &gt;&gt;&gt; 8 &amp; 255] ^ l[g &amp; 255] ^ c[p++],
                  t =
                  d[k &gt;&gt;&gt; 24] ^ e[n &gt;&gt;&gt; 16 &amp; 255] ^ j[g &gt;&gt;&gt; 8 &amp; 255] ^ l[h &amp; 255] ^ c[p++],
                  n = d[n &gt;&gt;&gt; 24] ^ e[g &gt;&gt;&gt; 16 &amp; 255] ^ j[h &gt;&gt;&gt; 8 &amp; 255] ^ l[k &amp; 255] ^ c[p++],
                  g = q,
                  h = s,
                  k = t;
              q = (f[g &gt;&gt;&gt; 24] &lt;&lt; 24 | f[h &gt;&gt;&gt; 16 &amp; 255] &lt;&lt; 16 | f[k &gt;&gt;&gt; 8 &amp; 255] &lt;&lt; 8 | f[n &amp; 255]) ^ c[p++];
              s = (f[h &gt;&gt;&gt; 24] &lt;&lt; 24 | f[k &gt;&gt;&gt; 16 &amp; 255] &lt;&lt; 16 | f[n &gt;&gt;&gt; 8 &amp; 255] &lt;&lt; 8 | f[g &amp; 255]) ^ c[p++];
              t = (f[k &gt;&gt;&gt; 24] &lt;&lt; 24 | f[n &gt;&gt;&gt; 16 &amp; 255] &lt;&lt; 16 | f[g &gt;&gt;&gt; 8 &amp; 255] &lt;&lt; 8 | f[h &amp; 255]) ^ c[p++];
              n = (f[n &gt;&gt;&gt; 24] &lt;&lt; 24 | f[g &gt;&gt;&gt; 16 &amp; 255] &lt;&lt; 16 | f[h &gt;&gt;&gt; 8 &amp; 255] &lt;&lt; 8 | f[k &amp; 255]) ^ c[p++];
              a[b] = q;
              a[b + 1] = s;
              a[b + 2] = t;
              a[b + 3] = n
          },
          keySize: 8
      });
  u.AES = p._createHelper(d)
})();

module.exports = CryptoJS
</code></pre>
<ol start="2">
<li>éœ€è¦ä½¿ç”¨åŠ å¯†æ“ä½œçš„æ¥å£æ–‡ä»¶ä¸­ï¼Œå¼•å…¥å·²ç»å°è£…åŠ è§£å¯†æ–¹æ³•è¿›è¡Œæ¥å£çš„åŠ è§£å¯†æ“ä½œ</li>
</ol>
<pre><code>&lt;!-- å¼•å…¥æ–¹æ³• --&gt;
const CryptoJS = require('./utils/public');

&lt;!-- æ‹¼æ¥éœ€è¦è°ƒç”¨çš„æ¥å£åç§°å’Œæ‰€éœ€çš„å‚æ•°ä¿¡æ¯ --&gt;
var data = '{&quot;url&quot;: &quot;/login/sendSMS&quot;, &quot;openid&quot;: &quot;'+ wx.getStorageSync('openid') +'&quot;, &quot;userName&quot;: &quot;'+ this.data.oaName +'&quot;, &quot;userMobile&quot;: &quot;'+ this.data.tel +'&quot;}';
&lt;!-- ä½¿ç”¨CryptoJS.Encrypå°†æ‹¼æ¥çš„ä¿¡æ¯è¿›è¡ŒåŠ å¯†ï¼Œå¾—åˆ°å¯†æ–‡å­—ç¬¦ä¸² --&gt;
      var encrypt = CryptoJS.Encrypt(data)
&lt;!-- æ­¤å¤„å¾®ä¿¡å°ç¨‹åºä¸ºä¾‹ï¼Œè¯·æ±‚è°ƒç”¨ --&gt;
      request({ 
&lt;!-- urlå¤„å¡«å†™å’Œåç«¯åå•†å¥½çš„å›ºå®šæ¥å£åœ°å€ï¼Œæ¥å£çš„äºŒæ¬¡å°è£… --&gt;
        url: 'http://localhost:8080/miniprogram-union/common',
&lt;!-- dataå¤„ä¼ æ‹¼æ¥å’ŒåŠ å¯†å¥½çš„æ¥å£åç§°å’Œå‚æ•°ä¿¡æ¯ --&gt;
        data: encrypt,
        method: &quot;POST&quot;, 
        }).then(result =&gt; {
&lt;!--  é€šè¿‡CryptoJS.Decryptè§£å¯†æ–¹æ³•è§£å¯†åç«¯ä¼ è¿‡æ¥çš„è¿”å›å€¼--&gt;
        var res = CryptoJS.Decrypt(result.data);
&lt;!-- è§£å¯†å¾—åˆ°çš„å€¼ä¸€èˆ¬ä¸º JSON å¯¹è±¡å½¢å¼ï¼Œéœ€è¦è½¬ä¸ºjså¯¹è±¡ --&gt;
        var smsInfo = JSON.parse(res)
&lt;!-- å¾®ä¿¡å°ç¨‹åºä¸­å°†å¾—åˆ°çš„æ•°æ®æ”¾åˆ°dataä¸­å¹¶åœ¨é¡µé¢æ¸²æŸ“ --&gt;
        this.setData({
            smsInfoList: smsInfo.data
        })
      })   
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åç«¯ä»£ç æœ¬åœ°æ‰“åŒ…è¿è¡Œ]]></title>
        <id>https://qinyu312.github.io/post/wei-xin-xiao-cheng-xu-ben-di-ce-shi-jie-kou/</id>
        <link href="https://qinyu312.github.io/post/wei-xin-xiao-cheng-xu-ben-di-ce-shi-jie-kou/">
        </link>
        <updated>2021-01-28T01:41:32.000Z</updated>
        <content type="html"><![CDATA[<pre><code>zsh: command not found: mvn è§£å†³å‘½ä»¤
source ~/.bash_profile
</code></pre>
<ol>
<li>ä»¥Macç¯å¢ƒä¸ºä¾‹ï¼Œéœ€è¦å…ˆæ£€æŸ¥æœ¬åœ°æ˜¯å¦å®‰è£…Maven</li>
</ol>
<pre><code>mvn -v  
</code></pre>
<ol start="2">
<li>å®‰è£…mvnåï¼Œç”±äºä¸‹è½½è¾ƒæ…¢ï¼Œå»ºè®®é…ç½®é˜¿é‡Œäº‘æ‰“åŒ…ï¼Œè¿›å…¥mavenç›®å½•ä¸‹çš„ conf æ–‡ä»¶ä¸‹ï¼Œæ‰“å¼€settings.xml æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç </li>
</ol>
<pre><code>&lt;mirrors&gt;
    &lt;mirror&gt;
      &lt;id&gt;mirrorId&lt;/id&gt;
      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;
      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;
      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;
    &lt;/mirror&gt;
     --&gt;
	 &lt;mirror&gt;
	   &lt;id&gt;nexus-aliyun&lt;/id&gt;
	   &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;
	   &lt;name&gt;Nexus aliyun&lt;/name&gt;
	   &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;
	 &lt;/mirror&gt;
  &lt;/mirrors&gt;
</code></pre>
<ol start="3">
<li>è¿›å…¥åç«¯ä»£ç æ‰€åœ¨çš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œè¿è¡ŒMavenæ‰“åŒ…å‘½ä»¤</li>
</ol>
<pre><code>mvn package -DskipTests
</code></pre>
<p>åœæ­¢è¿è¡Œå‘½ä»¤</p>
<pre><code>mvn clean
</code></pre>
<p>è¿è¡Œå®Œæˆå‘½ä»¤åä¼šåœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹å¾—åˆ°ä¸€ä¸ªtargetæ–‡ä»¶ï¼Œtargetæ–‡ä»¶ä¸‹çš„warå°±å¯ä»¥åœ¨æœ¬åœ° tomcat è¿è¡Œäº†éœ€è¦ä¸‹è½½å®‰è£… Tomcat æ¥è¿è¡Œä¸€ä¸ªwaråŒ…<br>
4. å°†åç«¯é¡¹ç›®ä»£ç ä¸­å·²ç»é…ç½®å¥½çš„ xxx.war æ–‡ä»¶æ‹·è´è‡³ tomcatæ–‡ä»¶ç›®å½•ä¸‹çš„ webappsä¸‹<br>
<img src="https://qinyu312.github.io/post-images/1611799120504.png" alt="" loading="lazy"><br>
5. å‘½ä»¤è¡Œè¿›å…¥åˆ° Tomcat ä¸‹çš„ bin ç›®å½•</p>
<p>å‘½ä»¤è¡Œå¯åŠ¨ startup.sh<br>
<img src="https://qinyu312.github.io/post-images/1611799131274.png" alt="" loading="lazy"><br>
<code>sudo sh ./startup.sh</code><br>
å‘½ä»¤è¡Œç»“æŸè¿è¡Œ<br>
<img src="https://qinyu312.github.io/post-images/1611799138646.png" alt="" loading="lazy"><br>
<code>sudo sh ./shutdown.sh</code><br>
å‘½ä»¤è¡ŒæŸ¥çœ‹ Tomcatæ‰€æœ‰è¿›ç¨‹<br>
<img src="https://qinyu312.github.io/post-images/1611799147086.png" alt="" loading="lazy"><br>
<code>ps -ef|grep java</code><br>
å‘½ä»¤è¡Œå¼ºåˆ¶ç»ˆæ­¢ æŸäº› Tomcatè¿›ç¨‹<br>
<code>kill -9 ç«¯å£å·</code></p>
<ol start="6">
<li>startup.sh å¯åŠ¨åå°±å¯ä»¥åœ¨æµè§ˆå™¨è¾“å…¥ localhost:8080æµ‹è¯• Tomcat å¯åŠ¨çš„æƒ…å†µ</li>
<li>æŠŠæ¥å£è¯·æ±‚å¤„çš„æµ‹è¯•åœ°å€æ¢æˆ localhost:8080 è°ƒç”¨æ¥å£æµ‹è¯•ï¼Œæ•°æ®æ­£å¸¸è¿”å›ï¼Œæœ¬åœ°è°ƒç”¨æˆåŠŸ</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¾®ä¿¡å°ç¨‹åºå¼€å‘éšè®°]]></title>
        <id>https://qinyu312.github.io/post/wei-xin-xiao-cheng-xu-kai-fa/</id>
        <link href="https://qinyu312.github.io/post/wei-xin-xiao-cheng-xu-kai-fa/">
        </link>
        <updated>2020-12-25T07:53:22.000Z</updated>
        <content type="html"><![CDATA[<h2 id="button-æ— æ³•è®¾ç½®å®½é«˜">button æ— æ³•è®¾ç½®å®½é«˜</h2>
<p>å½“å‰ç‰ˆæœ¬çš„å¾®ä¿¡å°ç¨‹åºï¼Œåœ¨.wxssæ–‡ä»¶é‡Œè®¾ç½®Buttonå®½åº¦æ— æ•ˆ,è°ƒæ•´ä¸ä¼šè¢«åº”ç”¨åˆ°å…ƒç´ ä¸Š</p>
<pre><code>.btn {
    width: 80%;
    height: 80rpx;
}
</code></pre>
<p>ç¬¬ä¸€ç§æ–¹å¼æ˜¯æŠŠ app.jsoné‡Œçš„  style: v2è¯­å¥åˆ æ‰ã€‚<br>
è¿™æ ·è™½ç„¶ä¹Ÿå¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†ä¼šå¯¼è‡´å…¨å±€çš„æ ·å¼å˜åŒ–ã€‚<br>
ç¬¬äºŒç§æ–¹å¼å¯ä»¥å¾ˆä¾¿æ·çš„è§£å†³é—®é¢˜ï¼Œå°±æ˜¯ç›´æ¥åœ¨ buttonæ ‡ç­¾çš„è¡Œå†…æ·»åŠ æ ·å¼</p>
<pre><code>&lt;button style=&quot;width: 80%; height: 80rpx&quot;&gt;æäº¤&lt;/button&gt;
</code></pre>
<p>æŒ‰é’®å®½é«˜ç”Ÿæ•ˆ</p>
<h2 id="å¾®ä¿¡å°ç¨‹åºè·³è½¬æ“ä½œ">å¾®ä¿¡å°ç¨‹åºè·³è½¬æ“ä½œ</h2>
<pre><code>&lt;!-- 1. è·³è½¬åˆ°é¡µé¢åå·¦ä¸Šè§’ä¸ä¼šæœ‰è¿”å›è§’æ ‡åŠæ“ä½œï¼Œä½†æ˜¯ä¸å¯ä»¥è·³è½¬åˆ°æ ¹çº§åˆ«çš„tabé¡µé¢ --&gt;
wx.redirectTo({
    url: '/pages/oa_login/index',
})

&lt;!-- 2. è¿™ä¸ªæ–¹æ³•ä¹‹èƒ½è·³è½¬åˆ° app.json é‡Œé¢å®šä¹‰çš„ ä¸» tabé¡µé¢ï¼Œå¦‚é¦–é¡µï¼Œæˆ‘çš„è¿™ç§ --&gt;
wx.switchTab({
    url: '/pages/index/index',
})

&lt;!-- 3. é¡µé¢è·³è½¬ä¸”ä¼šæœ‰è¿”å›æ“ä½œï¼Œä½†æ˜¯ä¸å¯ä»¥è·³è½¬åˆ°æ ¹çº§åˆ«çš„tabé¡µé¢ --&gt;
wx.navigataTo({
    url: '/pages/oa_login/index',
})

&lt;!-- ç»å¯¹è·¯å¾„è·³è½¬ï¼Œä¸€èˆ¬ç”¨äºé¡µé¢tokenå¤±æ•ˆéœ€è¦é‡æ–°è·³è½¬åˆ°ç™»é™†é¡µé¢ä½¿ç”¨ --&gt;
wx.reLaunch({  //ç»å¯¹è·¯å¾„è·³è½¬
      url: &quot;/pages/health_page/health_list/index&quot;,
    });
</code></pre>
<h2 id="å¾®ä¿¡å°ç¨‹åºè½»æç¤º">å¾®ä¿¡å°ç¨‹åºè½»æç¤º</h2>
<pre><code>wx.showToast({
    title: info.message,
    icon: 'none',
    duration: 1500
})
</code></pre>
<h2 id="å¾®ä¿¡å°ç¨‹åºè¿”å›ä¸Šä¸€é¡µé¢æ•°æ®ä¸åˆ·æ–°è§£å†³">å¾®ä¿¡å°ç¨‹åºè¿”å›ä¸Šä¸€é¡µé¢æ•°æ®ä¸åˆ·æ–°è§£å†³</h2>
<p>å½“ä½ åœ¨æŸæ´»åŠ¨è¯¦æƒ…é¡µè°ƒç”¨æ–¹æ³•åæ•°æ®å‘ç”Ÿæ”¹å˜ï¼Œç„¶åè¿”å›ä¸Šä¸€ä¸ªé¡µé¢ï¼Œæ´»åŠ¨åˆ—è¡¨ä¸­çš„æ•°æ®æ²¡æœ‰å‘ç”Ÿæ›´æ–°ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼</p>
<ol>
<li>ç®€å•ç²—æš´çš„ onShow:function() {}æ–¹æ³•ä¸­è°ƒç”¨ è·å–åˆ—è¡¨æ•°æ®çš„æ–¹æ³• ï¼Œä½†æ˜¯ä¼šé‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œå¢åŠ å¼€é”€ä¸”æ¯”è¾ƒæ…¢ã€‚</li>
</ol>
<pre><code>onShow: function() {
    this.onLoad();
}
</code></pre>
<ol>
<li>åœ¨å­é¡µé¢ä¸­è¿›è¡ŒæŸäº›æ“ä½œçš„æ—¶å€™ï¼Œåå°åˆ·æ–°çˆ¶é¡µé¢ï¼Œæ­¤æ—¶è¿”å›çˆ¶é¡µé¢æ•°æ®å·²æ›´æ–°ä¸”ä¸ä¼šé‡æ–°åŠ è½½ï¼Œæ¯”è¾ƒæ¨èçš„ç”¨æ³•ï¼Œå¿«é€Ÿä¸”ä¸ä¼šæœ‰å¤šä½™æ¶ˆè€—</li>
</ol>
<pre><code>&lt;!-- çˆ¶é¡µé¢å®šä¹‰æ›´æ–°æ–¹æ³• --&gt;
changeData: function() {
    this.onLoad();
 },

&lt;!-- å­é¡µé¢æŸå¤„è§¦å‘æ–¹æ³• --&gt;
changeParentData: function() {
    var pages = getCurrentPages();  //å½“å‰é¡µé¢æ ˆ
    if(pages.length &gt; 1) {
      var beforePage = pages[pages.length - 2] //è·å–ä¸Šä¸€ä¸ªé¡µé¢çš„å®ä¾‹å¯¹è±¡
      beforePage.changeData() // è§¦å‘çˆ¶é¡µé¢ä¸­çš„æ›´æ–°æ–¹æ³•
      console.log('æ›´æ–°æˆåŠŸäº†å—ï¼Ÿï¼Ÿï¼Ÿ')
    }
  },
</code></pre>
<h2 id="å¾®ä¿¡å°ç¨‹åºè·å–å½“å‰ç»çº¬åº¦å®šä½ä¿¡æ¯">å¾®ä¿¡å°ç¨‹åºè·å–å½“å‰ç»çº¬åº¦å®šä½ä¿¡æ¯</h2>
<p>åœ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·ä¸­æµ‹è¯•è·å–åˆ°çš„ç»çº¬åº¦ä¿¡æ¯æœ‰è¾ƒå¤§çš„åå·®ï¼Œä¸å¤Ÿå‡†ç¡®ï¼Œæ‰‹æœºä¸Šæµ‹è¯•ç›¸å¯¹è¾ƒä¸ºç²¾å‡†ï¼Œåç»­ä¼šæŒç»­ä¼˜åŒ–ç²¾å‡†åº¦ã€‚</p>
<!-- åœ¨ app.jsoné‡Œé¢è®¾ç½®æ˜¯å¦å…è®¸è·å–å½“å‰å®šä½ä¿¡æ¯çš„å¼¹çª— -->
<pre><code>{
    &quot;pages&quot;:[
        &quot;pages/index/index&quot;,
    ],
    &lt;!-- æ˜¯å¦å…è®¸è·å–å®šä½ä¿¡æ¯ --&gt;
    &quot;permission&quot;: {
        &quot;scope.userLocation&quot;: {
        &quot;desc&quot;: &quot;ä½ çš„ä½ç½®ä¿¡æ¯å°†ç”¨äºå°ç¨‹åºä½ç½®æ¥å£çš„æ•ˆæœå±•ç¤º&quot;
        }
    },
}
&lt;!-- åœ¨éœ€è¦è·å–å®šä½ä¿¡æ¯çš„ js é‡Œé¢è°ƒç”¨å¾®ä¿¡è·å–ç»çº¬åº¦ä½ç½®çš„API    wx.getLocation({})   --&gt;
onLoad: function(options) {
    // è·å–å½“å‰ç»çº¬åº¦å®šä½ä¿¡æ¯API 
      wx.getLocation({
        altitude: 'altitude',
        isHighAccuracy: true, 
        success(res) {
            &lt;!-- è¿”å›å®šä½ä¿¡æ¯    longitudeå­—æ®µä¸ºç»åº¦     latitudeä¸ºçº¬åº¦--&gt;
            console.log(res)
          this.setData({
            // ç»åº¦
            longitude: res.longitude,
            // çº¬åº¦
            latitude: res.latitude
          })
        }
      })
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Angularé¡¹ç›®é¿å‘æŒ‡å—]]></title>
        <id>https://qinyu312.github.io/post/angular-xiang-mu-bi-keng-zhi-nan/</id>
        <link href="https://qinyu312.github.io/post/angular-xiang-mu-bi-keng-zhi-nan/">
        </link>
        <updated>2020-11-24T10:15:01.000Z</updated>
        <content type="html"><![CDATA[<p>æœ€è¿‘æ”¶åˆ°ä¸€ä¸ªæ–°çš„éœ€æ±‚ï¼Œæœ‰ä¸€ä¸ªAngularé¡¹ç›®éœ€è¦å…¼å®¹åˆ° IE8 ä»¥ä¸Šç‰ˆæœ¬ï¼Œå®åœ¨è®©æˆ‘åˆæƒŠåˆå–œï¼ŒæƒŠçš„æ˜¯éƒ½ 2020å¹´äº†ï¼Œè¿˜ç”©ä¸æ‰ IE8 è¿™é¢—çƒ«æ‰‹å±±èŠ‹ï¼›å–œçš„æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ Angularé¡¹ç›®ï¼Œä¸çŸ¥é“åˆä¼šå­¦åˆ°ä»€ä¹ˆæ–°çš„çŸ¥è¯†å‘¢ã€‚æ‹‰åˆ°é¡¹ç›®ä»£ç åï¼Œæœ¬åœ°å¯åŠ¨ï¼Œæœç„¶ç»™æˆ‘æ¥äº†è¿å¤´ç—›å‡»ã€‚<br>
é¦–å…ˆç¡®è®¤æœ¬åœ°å®‰è£…æœ‰Node.jsç¯å¢ƒåï¼Œå…¨å±€å®‰è£… Angular-cli ï¼Œä¹Ÿå°±æ˜¯Angularè„šæ‰‹æ¶,å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<pre><code>cnpm install -g @angular/cli
</code></pre>
<p>ç„¶åå°±æ˜¯è€æ­¥éª¤ï¼Œä¸‹è½½node_modules ä¾èµ–åŒ…</p>
<pre><code>cnpm install
</code></pre>
<p>ä¹‹åç›´æ¥ ng serve å¯åŠ¨å‘½ä»¤æœ‰ç‚¹åˆ«å…·ä¸€æ ¼çš„ç®€æ´ï¼Œç›´æ¥èŠœæ¹–ğŸ›«ï¸</p>
<pre><code>ng serve
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œå°±æ˜¯è§è¯ å¥‡è¿¹ï¼ˆæ‰“è„¸ï¼‰çš„æ—¶åˆ»<br>
<img src="https://qinyu312.github.io/post-images/1606213638697.png" alt="" loading="lazy"><br>
æˆ‘æ•²å®Œå‘½ä»¤ä¸€å›è½¦ï¼Œå•ªçš„ä¸€ä¸‹æ»¡å±é£™çº¢æŠ¥é”™ï¼Œå¾ˆå¿«å•Šï¼Œæˆ‘å°±çœ‹åˆ°æ˜¯ä¾èµ–åŒ…çš„é—®é¢˜ï¼ŒæŒ‰ç…§ä¼ ç»ŸåŠŸå¤«çš„çœ‹åˆ°ä¸ºæ­¢ï¼Œæˆ‘æ²¡æœ‰çœ‹ä¸‹å»ï¼Œä¸Šå»å°±æ˜¯ä¸€ä¸ªå¸è½½ä¾èµ–ï¼Œä¸€ä¸ª cnpm install ï¼Œæˆ‘å¤§æ„äº†å•Šï¼Œæ²¡æœ‰åˆ å®Œï¼Œæ¥ç€åˆæ˜¯é£™çº¢æŠ¥é”™ã€‚Angular ä¸è®²æ­¦å¾·ï¼Œæ¥æ¬ºï¼Œä¸ºéš¾æˆ‘å…¥è¡Œä¸€å¹´å¤šç‚¹çš„å°å‰ç«¯ï¼Œå¸Œæœ›å®ƒä»¥åè€—å­å°¾æ±ï¼<br>
<img src="https://qinyu312.github.io/post-images/1606228631691.png" alt="" loading="lazy"><br>
æœ€ååœ¨ node_modules ä¸‹çš„ less-loader åŠ ä¸Šä¸€å¥  javascriptEnabled: true  ï¼Œé—®é¢˜å¾—åˆ°è§£å†³<br>
<img src="https://qinyu312.github.io/post-images/1606228810583.png" alt="" loading="lazy"></p>
<p>é¡¹ç›®æˆåŠŸå¯åŠ¨ï¼Œå†æ¥è§£å†³å…¼å®¹IE8çš„é—®é¢˜ï¼Œ<a href="https://angular.cn/guide/browser-support">Angular</a>ï¼Œå®˜æ–¹æ–‡æ¡£æµè§ˆå™¨å…¼å®¹éƒ¨åˆ†æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ IE 10, 11, 9ï¼Œä¹Ÿå°±æ˜¯è¯´è¿å®˜æ–¹éƒ½æ”¾å¼ƒå»åšIE9ä¸€ä¸‹çš„å…¼å®¹äº†ã€‚<br>
<img src="https://qinyu312.github.io/post-images/1606461891938.png" alt="" loading="lazy"><br>
å¿ä¸ä½åˆæƒ³åæ§½IEä¸€æŠŠï¼Œä½†æ˜¯å®¢æˆ·éœ€æ±‚åœ¨èº«ï¼Œåªèƒ½ç¡¬ç€å¤´çš®åšäº†ï¼Œå› ä¸ºAngularåœ¨å›½å†…å¸‚åœºçš„ä½¿ç”¨è¿˜ä¸æ˜¯ç‰¹åˆ«é¢‘ç¹ï¼Œæ‰€ä»¥æˆ‘åœ¨ç™¾åº¦æ²¡æœ‰ä»€ä¹ˆæ”¶è·ä¹‹åï¼Œå†³å®šç¿»å¢™å» Google ï¼ŒAngular ä¹Ÿä¸äºæ˜¯ Googleçš„äº²å„¿å­ã€‚æ–¹æ¡ˆå½“ç„¶æ˜¯æœ‰çš„ã€‚éœ€è¦å°†Angularç‰ˆæœ¬é™ä½è‡³ 1.2ä¸€ä»¥ä¸‹å¯ä»¥å¯¹IE8è¿›è¡Œå…¼å®¹é€‚é…ã€‚ç„¶åå°±æ˜¯ä¼ ç»ŸåŠŸå¤«çš„å¸è½½æ–°ç‰ˆæœ¬ï¼Œå®‰è£…æ—§ç‰ˆæœ¬ã€‚</p>
<pre><code>&lt;!-- å¸è½½æ–°ç‰ˆæœ¬ --&gt;
cnpm uninstall -g @angular/cli
&lt;!-- å®‰è£…æ–°ç‰ˆæœ¬ --&gt;
cnpm install -g @angular/cli/1.1
</code></pre>
<p>é—®é¢˜å¾—åˆ°è§£å†³ï¼Œå…¼å®¹æ˜¯å¥½äº†ï¼Œæ ·å¼åˆä¹±çš„ç®€ç›´æ˜¯ä¹±ä»–å¦ˆå¦ˆç»™ä¹±å¼€é—¨  -  ä¹±åˆ°å®¶äº†ã€‚ä¸è¯´äº†ï¼Œæˆ‘è¦å»è°ƒæ ·å¼äº†ï¼<br>
<img src="https://qinyu312.github.io/post-images/1606462146562.jpg" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Reactå„ç§é›¶ç¢çŸ¥è¯†åˆé›†]]></title>
        <id>https://qinyu312.github.io/post/js-ge-chong-ling-sui-zhi-shi-he-ji/</id>
        <link href="https://qinyu312.github.io/post/js-ge-chong-ling-sui-zhi-shi-he-ji/">
        </link>
        <updated>2020-07-28T02:37:30.000Z</updated>
        <content type="html"><![CDATA[<h2 id="reacté‡Œçš„äº‹ä»¶">Reacté‡Œçš„äº‹ä»¶</h2>
<pre><code>&lt;!-- onChangeäº‹ä»¶ --&gt;
this.handleChange = this.handleChange.bind(this)
handleChange(event) {
    this.setState({value: event.target.value})
}
&lt;textarea onChange={ this.handleChange } /&gt;  

&lt;!-- onSubmitäº‹ä»¶ --&gt;
this.handleSubmit = this,handleSubmit(this)
handleSubmit(event) {
    alert('æäº¤' + this.state.value + 'æˆåŠŸ!')
    event.preventDefault()    
    &lt;!-- æ¸…é™¤é»˜è®¤äº‹ä»¶ --&gt;
}
&lt;form onSubmit= { this.handleSubmit }&gt;&lt;/form&gt;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å…³äºå„ç§æµè§ˆå™¨å…¼å®¹(æŒç»­æ›´æ–°ä¸­)]]></title>
        <id>https://qinyu312.github.io/post/guan-yu-ge-chong-ie-jian-rong/</id>
        <link href="https://qinyu312.github.io/post/guan-yu-ge-chong-ie-jian-rong/">
        </link>
        <updated>2020-07-15T10:07:51.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ieæ¡ä»¶æ³¨é‡Š">IEæ¡ä»¶æ³¨é‡Š</h2>
<p>IE10ä»¥ä¸‹ç‰ˆæœ¬å¯ç”¨ï¼ŒIE11å·²ç»å–æ¶ˆæ”¯æŒ</p>
<pre><code>&lt;!--[if lte IE 8]&gt; 	
        &lt;script src=&quot;/js/html5.js&quot;&gt;&lt;/script&gt;
        &lt;script src=&quot;/js/css3-mediaqueries.js&quot;&gt;&lt;/script&gt;
        &lt;link href=&quot;/css/ie8.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;
&lt;![endif]--&gt;
</code></pre>
<p>å› ä¸ºIE11ä¸æ”¯æŒæ¡ä»¶æ³¨é‡Šï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™åˆ¤æ–­</p>
<pre><code>var browser = navigator.appName;
var ie11 = !!navigator.userAgent.match(/Trident\/7\./);
if (browser == 'Microsoft Internet Explorer' || ie11 == true) {
    //do something
}
</code></pre>
<h2 id="ie9éƒ¨åˆ†é¡µé¢ä¸æ˜¾ç¤ºçš„é—®é¢˜">IE9éƒ¨åˆ†é¡µé¢ä¸æ˜¾ç¤ºçš„é—®é¢˜</h2>
<pre><code>IE9æ˜¯ä¸æ”¯æŒ console.log æ‰“å°è¾“å‡ºè¯­å¥çš„ï¼Œåœ¨éå¼€å‘è€…æ¨¡å¼ä¸‹ä¼šé˜»å¡ä¸ä¼šæ‰§è¡Œåé¢çš„å†…å®¹
</code></pre>
<h2 id="ie9-åŠä»¥ä¸‹-ieæµè§ˆå™¨ä¸æ”¯æŒplaceholderå±æ€§">IE9 åŠä»¥ä¸‹ IEæµè§ˆå™¨ä¸æ”¯æŒplaceholderå±æ€§</h2>
<pre><code>å¼•å…¥ jqueryå’Œç”¨äºè§£å†³è¿™ä¸ªå±æ€§å…¼å®¹çš„CDN
&lt;script type=&quot;text/javascript&quot; src=&quot;http://www.ijquery.cn/js/jquery-1.7.2.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;http://www.ijquery.cn/js/jquery.placeholder.min.js&quot;&gt;&lt;/script&gt;

&lt;%--å…¼å®¹IE9åŠä»¥ä¸‹inputè¾“å…¥æ¡†ï¼Œtextareaæ–‡æœ¬æ¡†ä¸æ”¯æŒæç¤ºæ–‡æœ¬placeholderå±æ€§çš„é—®é¢˜--%&gt;
&lt;script type=&quot;text/javascript&quot;&gt;
    $(function(){ $('input, textarea').placeholder(); });
&lt;/script&gt;
</code></pre>
<p>ä¸Šé¢è¿™ç§æ–¹æ³•åœ¨HTMLæ–‡ä»¶ä¸­äº²æµ‹æœ‰æ•ˆï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆåœ¨å‰åç«¯ä¸åˆ†ç¦»JSPé¡¹ç›®ä¸­ä¸ä¼šç”Ÿæ•ˆï¼Œä»¥æŸå›½ä¼è€é¡¹ç›®ä¸ºä¾‹ï¼Œéœ€è¦åœ¨æ¯ä¸ªé¡µé¢çš„JSä»£ç ä¸­åŠ ä¸Š</p>
<pre><code>	&lt;!-- cssä»£ç  --&gt;
    .phcolor{ 
			color:#999;
	}

    &lt;!-- jsä»£ç  --&gt;
	// placeholderå…¼å®¹IE9
	$(function(){
	  //åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒplaceholderå±æ€§
	  supportPlaceholder='placeholder'in document.createElement('input'),
	  placeholder=function(input){
	    var text = input.attr('placeholder'),
	    defaultValue = input.defaultValue;
	    if(!defaultValue){
	      input.val(text).addClass(&quot;phcolor&quot;);
	    }
	    input.focus(function(){
	      if(input.val() == text){
	        $(this).val(&quot;&quot;);
	      }
	    });
	    input.blur(function(){
	      if(input.val() == &quot;&quot;){
	        $(this).val(text).addClass(&quot;phcolor&quot;);
	      }
	    });
	    //è¾“å…¥çš„å­—ç¬¦ä¸ä¸ºç°è‰²
	    input.keydown(function(){
	      $(this).removeClass(&quot;phcolor&quot;);
	    });
	  };
	  //å½“æµè§ˆå™¨ä¸æ”¯æŒplaceholderå±æ€§æ—¶ï¼Œè°ƒç”¨placeholderå‡½æ•°
	  if(!supportPlaceholder){
	    $('input').each(function(){
	      text = $(this).attr(&quot;placeholder&quot;);
	      if($(this).attr(&quot;type&quot;) == &quot;text&quot;){
	        placeholder($(this));
	      }
	    });
	  }
	});
</code></pre>
<h2 id="æ¢è¡Œword-wrapä¸word-breakå…¼å®¹ieå’Œç«ç‹-chrome">æ¢è¡Œword-wrapä¸word-breakå…¼å®¹ieå’Œç«ç‹ã€chrome</h2>
<ol>
<li>word-wrapæ§åˆ¶æ¢è¡Œï¼Œä½¿ç”¨break-wordæ—¶ï¼Œä¼šå¼ºåˆ¶è¿›è¡Œæ¢è¡Œï¼Œä¸­æ–‡æ²¡é—®é¢˜ï¼Œè‹±æ–‡è¯­å¥æ²¡é—®é¢˜ï¼Œé•¿ä¸²çš„è‹±æ–‡ä¸ä¼šç”Ÿæ•ˆã€‚</li>
<li>word-breakæ§åˆ¶æ˜¯å¦æ–­è¯<br>
normalæ˜¯é»˜è®¤æƒ…å†µï¼Œè‹±æ–‡å•è¯ä¸è¢«æ‹†å¼€<br>
break-allï¼Œæ˜¯æ–­å¼€å•è¯ã€‚åœ¨å•è¯åˆ°è¾¹ç•Œæ—¶ï¼Œä¸‹ä¸ªå­—æ¯è‡ªåŠ¨åˆ°ä¸‹ä¸€è¡Œã€‚ä¸»è¦è§£å†³äº†é•¿ä¸²è‹±æ–‡çš„é—®é¢˜ã€‚<br>
keep-allï¼Œæ˜¯æŒ‡Chinese, Japanese, and Koreanä¸æ–­è¯ã€‚å³åªç”¨æ­¤æ—¶ï¼Œä¸ç”¨word-wrapï¼Œä¸­æ–‡å°±ä¸ä¼šæ¢è¡Œäº†ã€‚ï¼ˆè‹±æ–‡è¯­å¥æ­£å¸¸ã€‚ï¼‰<br>
æ‰€ä»¥ï¼Œè¦åšåˆ°è‹±æ–‡å’Œä¸­æ–‡ç­‰å¼ºåˆ¶æ¢è¡Œï¼Œéœ€è¦ç»„åˆä½¿ç”¨å¦‚ä¸‹</li>
</ol>
<pre><code>&lt;p style=&quot;word-wrap: break-word; word-break: break-all&quot;&gt;&lt;/p&gt;
</code></pre>
<h2 id="jsåˆ¤æ–­ç§»åŠ¨ç«¯æµè§ˆå™¨è¿˜æ˜¯pcæµè§ˆå™¨">JSåˆ¤æ–­ç§»åŠ¨ç«¯æµè§ˆå™¨è¿˜æ˜¯PCæµè§ˆå™¨</h2>
<pre><code>window.parent.location.href = /Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent) ? &quot;${context}/erpGuaranteeFlowController/findErpGuaranteeApprovalNew.do&quot; :  &quot;${context}/erpItosController/toDoList&quot;;


var userAgentInfo = navigator.userAgent;
var Agents = [&quot;Android&quot;, &quot;iPhone&quot;,
            &quot;SymbianOS&quot;, &quot;Windows Phone&quot;,
            &quot;iPad&quot;, &quot;iPod&quot;];
var flag = true;
for (var v = 0; v &lt; Agents.length; v++) {
    if (userAgentInfo.indexOf(Agents[v]) &gt; 0) {
        flag = false;
        break;
    }
}

if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
	&lt;!-- ç§»åŠ¨ç«¯è®¾å¤‡ --&gt;
	h5flag = false
} else {
	&lt;!-- pcç«¯è®¾å¤‡ --&gt;
	h5flag = true
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åˆè¯†React]]></title>
        <id>https://qinyu312.github.io/post/chu-shi-react/</id>
        <link href="https://qinyu312.github.io/post/chu-shi-react/">
        </link>
        <updated>2020-07-02T13:47:24.000Z</updated>
        <content type="html"><![CDATA[<h2 id="æ­å»ºreacté¡¹ç›®">æ­å»ºReacté¡¹ç›®</h2>
<p>åœ¨è£…æœ‰node.jsçš„åŸºç¡€ä¸Šï¼Œå‘½ä»¤è¡Œè¾“å…¥å‘½ä»¤</p>
<pre><code>npx create-react-app item-name
</code></pre>
<p>å³å¯åˆ›å»ºä¸€ä¸ªReacté¡¹ç›®ï¼Œé¡¹ç›®ç»“æ„å¦‚ä¸‹</p>
<figure data-type="image" tabindex="1"><img src="https://qinyu312.github.io/post-images/1605707465716.png" alt="" loading="lazy"></figure>
<h2 id="jsxè¯­æ³•">JSXè¯­æ³•</h2>
<p>srcæ–‡ä»¶ä¸‹çš„index.jsæ˜¯é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­å…ˆåå¼•å…¥äº†reactå’Œreact-domä¸¤ä¸ªåº“ã€‚</p>
<pre><code>ReactDOM.render(&lt;h2&gt;hello react&lt;/h2&gt;, document.getElementById('root'));
</code></pre>
<p>ReactDOMå®ä¾‹é€šè¿‡renderæ–¹æ³•ï¼Œå°†å‰é¢çš„h2æ ‡ç­¾å…ƒç´ ï¼Œæ·»åŠ åˆ°rootå…ƒç´ ä¸­ï¼Œè€Œidä¸ºrootçš„å…ƒç´ æ˜¯publicæ–‡ä»¶çš„index.htmlæ–‡ä»¶çš„å…ƒç´ ã€‚<br>
JSXè¯­æ³•ç”±JavaScriptè¯­æ³• å’Œ XMLè¯­æ³•ç»„æˆï¼Œé€šä¿—æ¥è¯´å°±æ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨JSXè¯­å¥ä¸­é‡åˆ° &lt;&gt; çš„å½¢å¼çš„ï¼ŒæŒ‰ç…§XMLçš„å½¢å¼æ¥è§£æï¼Œå› ä¸ºä»–ä»¬æ˜¯æ ‡ç­¾ï¼›é‡åˆ° {} æŒ‰ç…§javaScriptæ¥è§£æï¼Œè¡¨ç¤ºJSè¯­æ³•ã€‚</p>
<pre><code>const a = (
        &lt;div&gt;
            &lt;p&gt;hello react&lt;/p&gt;
        &lt;/div&gt;
) 
</code></pre>
<p>å¦‚æœå­˜åœ¨æ ‡ç­¾ç»“æ„ï¼Œå¹¶ä¸”æ ‡ç­¾ç»“æ„éœ€è¦æ¢è¡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ ï¼ˆï¼‰çš„å½¢å¼è¿›è¡Œè¡¨ç¤º</p>
<h2 id="react-å…ƒç´ æ¸²æŸ“">React å…ƒç´ æ¸²æŸ“</h2>
<p>è¿™é‡Œé€šè¿‡ä¸€ä¸ªå®ä¾‹äº†è§£reactçš„å…ƒç´ æ¸²æŸ“</p>
<pre><code>&lt;!-- é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ–¹æ³• --&gt;
function nowTime() {
    const ele = (
        &lt;!-- ä½¿ç”¨()çš„å½¢å¼ï¼Œå¯ä»¥æ¢è¡Œå†™æ ‡ç­¾è¯­æ³• --&gt;
        &lt;h2&gt;get now time&lt;/h2&gt;  
        &lt;!-- å®šä¹‰ä¸€ä¸ªè·å–å½“å‰æ—¶é—´çš„æ–¹æ³• --&gt;
        &lt;h1&gt;now time is { new Date().toLocalTimeString() } &lt;/h1&gt;
    )
    &lt;!-- æ¸²æŸ“è¿™ä¸ªè·å–å½“å‰æ—¶é—´çš„æ–¹æ³• --&gt;
    reactDOM.render(ele, document.getElementById('root));
}
&lt;!-- å®šæ—¶å™¨æ¯éš”ä¸€ç§’ä¼šè°ƒç”¨ä¸€æ¬¡è¯¥æ–¹æ³•ï¼Œå®ç°å®æ—¶æ›´æ–°å½“å‰æ—¶é—´ --&gt;
setInterval(() =&gt; {
    nowTime()
},1000)

</code></pre>
<h2 id="react-ç»„ä»¶">React ç»„ä»¶</h2>
<p>å…³äºRactç»„ä»¶ï¼ŒåŒºåˆ«äºvueçš„ä»¥ .vueä¸ºåç¼€ç»“å°¾çš„æ–‡ä»¶ï¼ŒReactçš„ç»„ä»¶å¯ä»¥æ˜¯ä»¥ .js ä¸ºåç¼€çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ .jsx ä¸ºåç¼€çš„æ–‡ä»¶å‘½åã€‚ç¼–å†™Reactç»„ä»¶çš„æ—¶å€™ï¼Œåˆ›å»º .js çš„ç»„ä»¶æ˜¯æ²¡æœ‰ä»£ç è¯­æ³•æç¤ºçš„ï¼Œè€Œåˆ›å»º .jsx ç»„ä»¶æ–‡ä»¶æ˜¯æœ‰ä»£ç è¯­æ³•æç¤ºçš„ã€‚ åˆ›å»ºReactç»„ä»¶åˆ†åˆ«æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯é€šè¿‡ ç±»çš„å½¢å¼åˆ›å»ºç»„ä»¶ï¼Œç¬¬äºŒç§æ˜¯é€šè¿‡Hookçš„å½¢å¼åˆ›å»ºã€‚å¹¶ä¸”ç»„ä»¶ä¹‹é—´æ˜¯å¯ä»¥äº’ç›¸å¼•å…¥å’Œä½¿ç”¨çš„ï¼Œä»¥æ ‡ç­¾çš„å½¢å¼å­˜åœ¨ï¼</p>
<pre><code>&lt;!-- ç¬¬ä¸€ç§å†™æ³• --&gt;
&lt;!-- åˆ›å»ºä¸€ä¸ªReactç»„ä»¶é¦–å…ˆéœ€è¦å¼•å…¥ React åº“ --&gt;
import React from 'react'
&lt;!-- åˆ›å»ºä¸€ä¸ªç±»Appç»§æ‰¿Reactæ‰€æä¾›çš„Componentç»„ä»¶çš„å¯¹è±¡ --&gt;
class App extends React Component {
    &lt;!-- rander(){} æ¸²æŸ“å‡½æ•° --&gt;
    render() {
        &lt;p&gt;æ¸²æŸ“å‡½æ•°ä¸­å†™ä½ éœ€è¦è¿™ä¸ªç»„ä»¶å±•ç¤ºçš„å†…å®¹ï¼Œæˆ–è€…è¦åšä»€ä¹ˆ&lt;/p&gt;
    }
}
&lt;!-- å¯¼å‡ºç»„ä»¶ --&gt;
export default App

&lt;!-- ç¬¬äºŒç§å†™æ³• --&gt;
import React from 'react'

export default class App extends React.Component{
    render() {
        return {
            &lt;div&gt;
                &lt;p&gt;ç›´æ¥å¯¼å‡ºå¹¶ç»§æ‰¿Reactä¸‹çš„Componentå¯¹è±¡&lt;/p&gt;
            &lt;/div&gt;
        }
    }
}
</code></pre>
<pre><code>&lt;!-- å‡½æ•°ç»„ä»¶ --&gt;
function fun(props) {
    return (
        &lt;div&gt;
            &lt;h3&gt;å‡½æ•°ç»„ä»¶&lt;/h3&gt;
        &lt;/div&gt;
    )
}
&lt;!-- ES6 classç±»ç»„ä»¶ --&gt;
class App extends React.Component {
    render() {
        return (
            &lt;div&gt;
                &lt;h3&gt;ES6 classç±»åˆ›å»ºç»„ä»¶&lt;/h3&gt;  
            &lt;/div&gt;
        )
    }
}
</code></pre>
<p>ç„¶ååœ¨éœ€è¦ä½¿ç”¨çš„åœ°æ–¹å¼•å…¥è¯¥ç»„ä»¶,å¹¶å°†å…¶æ”¾ç½®åœ¨æ¸²æŸ“å‡½æ•°ä¸­æ¸²æŸ“å³å¯ã€‚</p>
<pre><code>import 'App' from './App.jsx'
ReactDOM.render(&lt;App /&gt;, document.getElementById('root));

</code></pre>
<h3 id="propsç»„ä»¶åŠ¨æ€ä¼ å‚">Propsç»„ä»¶åŠ¨æ€ä¼ å‚</h3>
<p>Reacté‡Œé¢çš„ç»„ä»¶ä¼ å‚é€šè¿‡ props</p>
<h3 id="çˆ¶ç»„ä»¶ä¼ é€’å‚æ•°ç»™å­ç»„ä»¶">çˆ¶ç»„ä»¶ä¼ é€’å‚æ•°ç»™å­ç»„ä»¶</h3>
<pre><code>&lt;!-- å­ç»„ä»¶ --&gt;
import React from 'react'
export default class Son extends React.Component {
    render() {
        return {
            &lt;div&gt;
                &lt;ul&gt;
                    {
                    &lt;!-- å­ç»„ä»¶ä¸­ é€šè¿‡this.propsçš„æ–¹å¼è·å–çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯arr ,ç„¶åé€šè¿‡mapæ¥éå†è·å–åˆ°çš„æ•°æ®--&gt;
                        this.props.arr.map((element, index) =&gt; {
                            &lt;!-- å°†éå†å¾—åˆ°çš„æ•°æ®æ”¾åœ¨liæ ‡ç­¾ä¸­æ¸²æŸ“è¿”å›ï¼Œkeyå€¼éœ€è¦ç»‘å®šindexå”¯ä¸€å€¼ï¼Œå¦åˆ™ä¼šæŠ›å‡ºè¯­æ³•error --&gt;
                            return &lt;li key={ index }&gt;{ element }&lt;/li&gt;
                        })
                    }
                &lt;/ul&gt;            
            &lt;/div&gt;
        }
    }
}
</code></pre>
<pre><code>import React from 'react'
&lt;!-- å¼•å…¥å­ç»„ä»¶ --&gt;
import Son from './son'
export default class Father extends React.Component {
    render() {
        &lt;!-- çˆ¶ç»„ä»¶å®šä¹‰ä¸¤ä¸ªæ•°ç»„ï¼Œç”¨äºä¼ é€’ç»™å­ç»„ä»¶ä½¿ç”¨ --&gt;
        const arrOne = ['Vue' , 'React', 'Angular'],
                 arrTwo = ['Java', 'Pythen', 'C++']
        return (
            &lt;!-- åœ¨ä¸¤ä¸ªå­ç»„ä»¶ä¸­åˆ†åˆ«ä¼ å…¥ä¸åŒçš„æ•°æ® --&gt;
            &lt;Son arr={ arrOne } /&gt;
            &lt;Son arr={ arrTwo } /&gt;
        )
    }
}
</code></pre>
<h3 id="å­ç»„ä»¶ä¼ é€’å‚æ•°ç»™çˆ¶ç»„ä»¶">å­ç»„ä»¶ä¼ é€’å‚æ•°ç»™çˆ¶ç»„ä»¶</h3>
<pre><code>&lt;!-- çˆ¶ç»„ä»¶ --&gt;
import React from 'react'
import Son from './son'
export defaul{t class Father React.Component {
    &lt;!-- é¦–å…ˆå®šä¹‰stateç”¨æ¥å­˜å‚¨titleçš„çŠ¶æ€ --&gt;
    constructor() {
        super();
        this.state = {
            title: â€˜æœ€åˆçš„æ ‡é¢˜â€™
        }
    }
    clickChange = () =&gt; {
        this.setState({
            title: 'æœ€åçš„æ ‡é¢˜'
        })
    }
    render()  {
        return (    
            &lt;div&gt;
                çˆ¶å­ç»„ä»¶ä¼ å‚
            &lt;/div&gt;
            &lt;!-- ä½¿ç”¨å­ç»„ä»¶,titleæœ€å¼€å§‹ä¸º â€˜æœ€åˆçš„æ ‡é¢˜â€™ï¼Œ changeFatherProps è¢«å­ç»„ä»¶ä¸­çš„ç‚¹å‡»äº‹ä»¶è§¦å‘ä»è€Œæ‰§è¡Œçˆ¶ç»„ä»¶ä¸­çš„clickChangeæ–¹æ³•ï¼Œå®Œæˆå¯¹æ ‡é¢˜çš„ä¿®æ”¹ --&gt;
            &lt;son title={ this.state.title } changeFatherProps={ this.clickChange } /&gt;
        )
    }
}
</code></pre>
<pre><code>&lt;!-- å­ç»„ä»¶ --&gt;
import React from 'react'

export defaul{t class Father React.Component {
    changeFather = () =&gt; {
        &lt;!-- é€šè¿‡ this.props çš„æ–¹å¼ --&gt;
        this.prpos.changFatherProps()
    }
    render()  {
        return &lt;div&gt;
                    çˆ¶å­ç»„ä»¶ä¼ å‚
                    &lt;!-- ç‚¹å‡»buttonäº‹ä»¶ä¼šè§¦å‘çˆ¶ç»„ä»¶ä¸­æ–¹æ³•çš„æ‰§è¡Œï¼Œå°†æ ‡é¢˜ä¿®æ”¹ --&gt;
                    &lt;button onClick={ this.changeFather }&gt;ç‚¹å‡»ä¼ å‚ä¿®æ”¹&lt;button&gt;
                &lt;/div&gt;
    }
}
</code></pre>
<h2 id="state-çŠ¶æ€">state çŠ¶æ€</h2>
<pre><code>&lt;!-- é€šè¿‡this.stateå®šä¹‰ä¿å­˜æ•°æ®å’ŒçŠ¶æ€ --&gt;
    this.state = {
        flag: true,
        count: 10,
    }
    &lt;!-- éœ€è¦ä¿®æ”¹çŠ¶æ€å€¼çš„æ—¶å€™é€šè¿‡ this.setState({})çš„æ–¹å¼è¿›è¡Œä¿®æ”¹ --&gt;
    this.setState({
        flag:  false,
        count: this.state.count ++
    })
</code></pre>
<h2 id="ç”Ÿå‘½å‘¨æœŸå‡½æ•°">ç”Ÿå‘½å‘¨æœŸå‡½æ•°</h2>
<p>éšç€æˆ‘ä»¬å¯¹Reactç†è§£å’Œä½¿ç”¨çš„åŸæ¥è¶Šå¤šï¼Œç”Ÿå‘½å‘¨æœŸä¼šè¶Šæ¥è¶Šæœ‰å‚è€ƒä»·å€¼<br>
ç”Ÿå‘½å‘¨æœŸå‡½æ•°åŒ…æ‹¬:</p>
<ol>
<li>componentWillMount:  åœ¨ç»„ä»¶åˆ›å»ºä¹‹å‰æ‰§è¡Œ</li>
<li>componentDidMount: åœ¨ç»„ä»¶æ¸²æŸ“ä¹‹åæ‰§è¡Œ</li>
<li>shouldComponentUpdata: è¿”å› true å’Œ false, trueä»£è¡¨å…è®¸æ”¹å˜ï¼Œ falseä»£è¡¨ä¸å…è®¸æ”¹å˜</li>
<li>componentWillUpdata: æ•°æ®åœ¨æ”¹å˜ä¹‹å‰æ‰§è¡Œï¼ˆstate, propsï¼‰</li>
<li>conponentDidUpdata: ä»£è¡¨æ•°æ®ä¿®æ”¹å®Œæˆï¼ˆstate, propsï¼‰</li>
<li>conponentWillReveiceProps: propså‘ç”Ÿæ”¹å˜æ—¶æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°</li>
<li>conponentWillUnMount: ç»„ä»¶å¸è½½å‰æ‰§è¡Œ</li>
</ol>
<h2 id="æ¢è®¨å…³äº-setstate-æ›´æ–°æ˜¯åŒæ­¥æ“ä½œè¿˜æ˜¯å¼‚æ­¥æ“ä½œçš„é—®é¢˜">æ¢è®¨å…³äº setState æ›´æ–°æ˜¯åŒæ­¥æ“ä½œè¿˜æ˜¯å¼‚æ­¥æ“ä½œçš„é—®é¢˜</h2>
<pre><code>setStateä¼šå¼•èµ·è§†å›¾çš„é‡ç»˜
å®˜æ–¹æ–‡æ¡£è§£ç­”:åœ¨å¯æ§çš„æƒ…å†µä¸‹æ˜¯å¼‚æ­¥çš„ï¼Œåœ¨ä¸å¯æ§çš„æƒ…å†µä¸‹æ˜¯åŒæ­¥çš„
</code></pre>
<h2 id="create-react-app-æŒ‰éœ€åŠ è½½antd-ç»„ä»¶">create-react-app æŒ‰éœ€åŠ è½½Antd ç»„ä»¶</h2>
<ol>
<li>å‘½ä»¤è¡Œè¾“å…¥ cnpm run eject  æ‹‰å–Reactçš„é…ç½®æ–‡ä»¶</li>
<li>æ–‡ä»¶è¢«ä¿®æ”¹æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç”±äºGItçš„åŸå› å¯¼è‡´,æ­¤æ—¶æ‰¾åˆ°æ–‡ä»¶ç›®å½•ï¼ŒæŒ‰ä¸‹shift + command + . æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼Œåˆ é™¤ .git æ–‡ä»¶ï¼Œé‡æ–° cnpm run ejectå³å¯ï¼Œå®‰è£…å®Œæˆåç›®å½•å¤šå‡ºäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯configå’Œscriptæ–‡ä»¶ï¼Œconfigæ–‡ä»¶å°±æ˜¯webpacké…ç½®æ–‡ä»¶</li>
<li>å®‰è£…ä¸€ä¸ªä¾èµ–æ–‡ä»¶ cnpm install babel-plugin-import --save-dev</li>
</ol>
<h2 id="react-router">React-Router</h2>
<p>Reactè·¯ç”±ä¹Ÿåˆ†ä¸ºä¸¤ç§è·¯ç”±æ¨¡å¼ï¼š BrowserRouter å’Œ HashRouter<br>
ä¸¤è€…çš„åŒºåˆ«åœ¨äº HashRouterä½¿ç”¨çš„æ˜¯é”šç‚¹é“¾æ¥çš„å½¢å¼ï¼Œè¡¨ç°ä¸º # çš„å½¢å¼ï¼Œ # å·åé¢ä¸ºè·³è½¬çš„äºŒçº§è·¯ç”±åœ°å€ è€ŒBrowserRouter åˆ™ä½¿ç”¨äº†HTML5çš„æ–°ç‰¹æ€§ï¼Œä¸»è¦æ˜¯ history.push() å®ç°ã€‚<br>
å®é™…å¼€å‘ä¸­ï¼Œ BrowserRouter ä¼šåœ¨é¡¹ç›®ä¸Šçº¿ä¹‹åå­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå°±æ˜¯éœ€è¦åå°é…åˆåšä¸€äº›é…ç½®å¤„ç†å’Œé‡å®šå‘ï¼Œå¦åˆ™ä¼šå¾ˆå®¹æ˜“è·³è½¬åˆ° 404 é¡µé¢ï¼Œè€Œ HashRouter åˆ™ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚</p>
<pre><code>&lt;!-- å®‰è£… react-router --&gt;
cnpm install react-router-dom -save

&lt;!-- ä½¿ç”¨ react-router --&gt;
import {BrowserRouter as Router, Link,NavLink, Route, Redirect} from &quot;react-router-dom&quot;
&lt;!-- å¼•å…¥  react-router ç›¸å…³çš„ç»„ä»¶ --&gt;

function App() {
    render() {
        return(
            &lt;div&gt;
            &lt;!-- åœ¨ Routerç›’å­ä¸­åµŒå¥— Routeç›’å­ï¼Œåœ¨Routeä¸­å®šä¹‰è·¯ç”±è·¯å¾„å’Œè·¯å¾„å¯¹åº”çš„é¡µé¢ --&gt;
                &lt;Router&gt;
                    &lt;switch&gt;
                        &lt;Route path=&quot;/login&quot; component={ Login }&gt;&lt;/Route&gt;
                        &lt;Route path=&quot;/home&quot; component={ Home }&gt;&lt;/Route&gt;
                        &lt;Route path=&quot;/home/detail&quot; exact={ true } component={ detail }&gt;&lt;/Route&gt;         
                        &lt;Route path=&quot;/demo&quot; render={ () =&gt; &lt;div&gt;ç®€çº¦å†™æ³•ï¼Œä¸éœ€è¦åˆ›å»ºé¡µé¢å’Œç»„ä»¶ï¼Œç›´æ¥è·¯ç”±æ˜¾ç¤ºrenderå‡½æ•°ä¸­å®šä¹‰è·¯ç”±é¡µé¢å†…å®¹å³å¯&lt;/div&gt;}&lt;/Route&gt;
                        &lt;!-- ç®€çº¦å†™æ³•ï¼Œä¸éœ€è¦åˆ›å»ºé¡µé¢å’Œç»„ä»¶ï¼Œç›´æ¥è·¯ç”±æ˜¾ç¤ºrenderå‡½æ•°ä¸­å®šä¹‰è·¯ç”±é¡µé¢å†…å®¹å³å¯ --&gt;
                    &lt;/switch&gt;
                    &lt;!-- å½“è·¯ç”±è§„åˆ™åŒ…è£¹åœ¨switchå†…çš„æ—¶ï¼Œè·¯ç”±å°±ä¸ä¼šåŒæ—¶æ˜¾ç¤ºå¤šä¸ªï¼Œè€Œæ˜¯æŒ‰ç…§å½“å‰è·¯å¾„è¿›è¡ŒåŒ¹é… --&gt;
                &lt;/Router&gt;
                    &lt;!-- è·¯ç”±åŒ¹é…è§„åˆ™ä¹‹ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢ä¸ŠåŒæ—¶å­˜åœ¨ è·¯å¾„ä¸º /home å’Œ /home/detail ä¸¤ä¸ªç»„ä»¶ï¼Œä¸¤ä¸ªç»„ä»¶éƒ½ä¼šæ˜¾ç¤ºï¼Œå› ä¸º /home æ˜¯åŒ…å« /home/detail , ä½†æ˜¯æ­£å¸¸æƒ…å†µä¸‹è®¿é—® /homeä¸‹çš„/detailæ˜¯ä¸åº”è¯¥æ˜¾ç¤ºä¸Šä¸€çº§ç»„ä»¶ä¹Ÿå°±æ˜¯ /homeçš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨åˆ° è·¯ç”±è§„åˆ™çš„ç²¾å‡†åŒ¹é…ï¼Œ ä½¿ç”¨ exace = { true } å³å¯å¼€å¯ç²¾å‡†åŒ¹é…ï¼Œå°±ä¸ä¼šåŒ¹é…åˆ°ä¸‹ä¸€çº§è·¯ç”±ï¼Œåªä¼šåŒ¹é…åˆ° /home è¿™ä¸€ä¸ª, strict = { true } å¯ä»¥æ›´åŠ ç²¾ç¡®çš„åŒ¹é…è·¯ç”±ï¼Œè€Œä¸”ä½¿ç”¨çš„æ—¶å€™striceéœ€è¦å’Œexaceä¸€èµ·ä½¿ç”¨æ‰å¯ä»¥ç”Ÿæ•ˆï¼Œè€Œexaceä¸éœ€è¦ç»„åˆä½¿ç”¨ä¹Ÿå¯ä»¥ç”Ÿæ•ˆ --&gt;

                    &lt;Link to=&quot;/login&quot;&gt;go login now&lt;/Link&gt;
                    &lt;!-- Link ç‚¹å‡»è·³è½¬åˆ° to åé¢çš„è·¯ç”±é¡µé¢ --&gt;

                    &lt;NavLink to=&quot;/login&quot; activeClassName=&quot;setActive&quot;&gt;&lt;/NavLink&gt;
                    &lt;!-- NavLinké¡¾åæ€ä¹‰ï¼Œå¯¼èˆªè·³è½¬ï¼Œåä¸ºå½“å‰é€‰ä¸­çš„èœå•å¯¼èˆªæ·»åŠ ä¸€ä¸ªåä¸ºactiveçš„classæ ·å¼ï¼Œç»™ä½ è¿™ä¸ªæ ·å¼æ·»åŠ é¢œè‰²æˆ–è€…èƒŒæ™¯é€‰ä¸­æ—¶ä¾¿ä¼šæ·»åŠ è¯¥æ ·å¼,activeClassNameå¯ä»¥ä¿®æ”¹æ ·å¼åç§°ï¼Œé»˜è®¤æ˜¯active --&gt;

                    &lt;Redirect from=&quot;/happy&quot; to=&quot;/login&quot;&gt;&lt;/Redirect&gt;
                    &lt;!-- Redirectå¯ä»¥å®ç°è·¯ç”±é‡æ–°å‘ï¼Œå½“ä½ è®¿é—® çš„åœ°å€æ˜¯å±æ€§ä¸­çš„fromï¼Œä¹Ÿå°±æ˜¯è¦å»çš„è·¯ç”±ä¸º â€˜/happy',ä»–ä¼šç›´æ¥é‡å®šå‘åˆ° toæ‰€ç»™å®šçš„è·¯ç”±åœ°å€ --&gt;


                &lt;/Router&gt;
            &lt;/div&gt; 
        )
    }
}
&lt;!-- å¤„äºç”¨æˆ·ä½“éªŒæ–¹é¢çš„è€ƒè™‘ï¼Œæˆ‘ä»¬ä¸€èˆ¬è¿˜ä¼šåœ¨è·¯ç”±åŒ¹é…ä¸­åŠ å…¥ 404 ç­‰é¡µé¢ï¼Œå°†ä¸å­˜åœ¨çš„è·¯å¾„ä»¥æ›´å‹å¥½åœ°æ–¹å¼æé†’ç”¨æˆ· --&gt;
</code></pre>
<pre><code>&lt;button&gt;è·³è½¬&lt;/button&gt;

&lt;!-- è·³è½¬çš„æ–¹æ³•æœ‰ ä¸¤ç§  props.history.push('/home')   å’Œ props.history.replace('/home')
åŒºåˆ«åœ¨äºï¼Œ pushæ–¹æ³•çš„é¡µé¢è·³è½¬æ˜¯å åŠ çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ç‚¹å‡»æµè§ˆå™¨å·¦ä¸Šè§’çš„è¿”å›ä¸Šä¸€ä¸ªé¡µé¢ä¾ç„¶æœ‰æ•ˆï¼Œå› ä¸ºå†å²æ•°æ®è¢«ä¿ç•™ï¼› è€Œreplaceæ–¹æ³•æ˜¯æ›¿æ¢çš„ï¼Œæ‰€ä»¥ä¸ä¼šå­˜æœ‰å†å²è·³è½¬è®°å½•
 --&gt;
</code></pre>
<h2 id="reduxæ•°æ®ç®¡ç†æ–¹æ¡ˆ-ç±»ä¼¼äºvuex">Reduxæ•°æ®ç®¡ç†æ–¹æ¡ˆ  (ç±»ä¼¼äºVuex)</h2>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Ant Design for vue]]></title>
        <id>https://qinyu312.github.io/post/ant-design-for-vue/</id>
        <link href="https://qinyu312.github.io/post/ant-design-for-vue/">
        </link>
        <updated>2020-06-22T13:32:27.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ant-design-for-vueæŒ‰éœ€åŠ è½½æŠ¥é”™é—®é¢˜è§£å†³">Ant design for vueæŒ‰éœ€åŠ è½½æŠ¥é”™é—®é¢˜è§£å†³</h2>
<p><a href="https://www.antdv.com/docs/vue/introduce-cn/">Ant Design for Vue</a><br>
å®˜ç½‘æœ‰è¯¦ç»†çš„æŒ‰éœ€åŠ è½½æ•™ç¨‹ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¹‹åï¼Œé¡¹ç›®å¯åŠ¨ä¼šæŠ›å‡ºå¦‚ä¸‹é”™è¯¯</p>
<pre><code> ERROR  Failed to compile with 1 error                                                
 error  in ./node_modules/ant-design-vue/es/button/style/index.less
Syntax Error:
// https://github.com/ant-design/ant-motion/issues/44
.bezierEasingMixin();
^
Inline JavaScript is not enabled. Is it set in your options?
</code></pre>
<p>æ­¤æ—¶éœ€è¦æŠŠ babel.config.js é…ç½®æ–‡ä»¶ä¸­</p>
<pre><code>module.exports = {
  presets: [
    '@vue/cli-plugin-babel/preset'
  ],
  plugins: [
    [
       &quot;import&quot;,
      { libraryName: &quot;ant-design-vue&quot;, libraryDirectory: &quot;es&quot;, style: true }
    ]
  ]
}
</code></pre>
<p>çš„ style å¤„çš„ true æ”¹ä¸º &quot;css&quot;ï¼Œé¡¹ç›®å³å¯æ­£å¸¸å¯åŠ¨å¹¶å®ŒæˆæŒ‰éœ€åŠ è½½ç»„ä»¶åº“</p>
<pre><code>module.exports = {
  presets: [
    '@vue/cli-plugin-babel/preset'
  ],
  plugins: [
    [
       &quot;import&quot;,
      { libraryName: &quot;ant-design-vue&quot;, libraryDirectory: &quot;es&quot;, style: &quot;css&quot; }
    ]
  ]
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Fetch querystringè§£å†³è·¨åŸŸ]]></title>
        <id>https://qinyu312.github.io/post/fetch-shu-ju-jie-kou-qing-qiu/</id>
        <link href="https://qinyu312.github.io/post/fetch-shu-ju-jie-kou-qing-qiu/">
        </link>
        <updated>2020-06-11T14:38:43.000Z</updated>
        <content type="html"><![CDATA[<p>ä»¥å‰å†™æ•°æ®æ¥å£ï¼Œå¯¹æ¥è¯·æ±‚éƒ½æ˜¯ä½¿ç”¨çš„Ajaxï¼Œæˆ–è€…Axiosä¹‹ç±»çš„ï¼Œæœ€è¿‘åœ¨ä½¿ç”¨Reactè¿›è¡Œå¼€å‘ï¼Œç”¨åˆ°äº†<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch">fetch</a>, å’Œ<a href="http://nodejs.cn/api/querystring.html">querystring</a></p>
<pre><code>import qs from 'querystring'
&lt;!-- getè¯·æ±‚ --&gt;
fetch(&quot;http://iwenwiki.com/api/blueberrypai/getChengpinInfo.php&quot;)
.then(res =&gt; res.json())
.then(data =&gt; {
    console.log(data)
})

&lt;!-- postè¯·æ±‚ --&gt;
fetch(&quot;http://iwenwiki.com/api/blueberrypai/login.php&quot;, {
    method: 'POST' ,   // è¯·æ±‚æ–¹å¼
    headers: {            // è¯·æ±‚å¤´
        'Content-Type': 'application/x-www-form-urlencoded',
        'Accept': 'application/json, text/plain, */*',
    },
    &lt;!-- body: &quot;user_id=iwen@qq.com&amp;password=iwen123&amp;verification_code=crfvw&quot; --&gt;
    &lt;!-- æ­¤å¤„ä¼ å‚ä½¿ç”¨å­—ç¬¦ä¸²ä¼ å‚çš„æ–¹å¼ï¼Œæ‰€ä»¥éœ€è¦å‚æ•°é—´ &amp; åˆ†éš”æ‹¼ä¸² --&gt;
    &lt;!-- å¦‚æœä¸æƒ³å†™æ‹¼ä¸²ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¼•å…¥ querystringæ¥è¿›è¡Œè½¬æ¢æ“ä½œå¦‚ä¸‹ --&gt;
    body: qs.stringify({
        'user_id': 'iwen@qq.com',
        'password': 'iwen123',
        'verification_code': 'crfvw'
    })
})
</code></pre>
<h2 id="è·¨åŸŸçš„è§£å†³æ–¹æ¡ˆ">è·¨åŸŸçš„è§£å†³æ–¹æ¡ˆ</h2>
<p>è·¨åŸŸä¸€èˆ¬åˆ†ä¸ºä¸¤ç§åœºæ™¯ï¼š å¼€å‘ç¯å¢ƒä¸‹çš„è·¨åŸŸé—®é¢˜å’Œç”Ÿäº§ç¯å¢ƒä¸‹çš„è·¨åŸŸé—®é¢˜<br>
æ­¤å¤„ä»¥Reacté¡¹ç›®å¼€å‘ç¯å¢ƒä¸‹ä¸ºä¾‹</p>
<pre><code>componentDidMount() {
    fetch(&quot;http://tingapi.ting.baidu.com/v1/restserver/ting?method=baidu.ting.billboard.billList&amp;type=1&amp;size=10&amp;offset=0&quot;)
    .then(res =&gt; res.json())
    .then(data =&gt; {
        console.log(data)
    })
    .catch(error =&gt; {
        console.log(new Error(error))
    })
}
</code></pre>
<p><img src="https://qinyu312.github.io/post-images/1607442245412.png" alt="" loading="lazy"><br>
æ­¤å¤„è¯·æ±‚ä¼šè·¨åŸŸ<br>
éœ€è¦åœ¨ package.json æ–‡ä»¶ä¸­é…ç½® proxy ä»£ç†è§£å†³<br>
<img src="https://qinyu312.github.io/post-images/1607442296763.png" alt="" loading="lazy"><br>
é…ç½®å®Œæˆ package.json æ–‡ä»¶åéœ€è¦å°†è¯·æ±‚æ¥å£å‰é¢çš„å·²ç»è¢«ä»£ç†çš„åœ°å€å»æ‰å¦‚ä¸‹</p>
<pre><code>componentDidMount() {
    fetch(&quot;/v1/restserver/ting?method=baidu.ting.billboard.billList&amp;type=1&amp;size=10&amp;offset=0&quot;)
    .then(res =&gt; res.json())
    .then(data =&gt; {
        console.log(data)
    })
    .catch(error =&gt; {
        console.log(new Error(error))
    })
}
</code></pre>
<p>ç„¶åç»ˆæ­¢æ­¤é¡¹ç›®è¿›ç¨‹ï¼Œé‡æ–°è¿è¡Œè¯¥é¡¹ç›®å³å¯ä½¿ç”¨ä»£ç†è§£å†³è·¨åŸŸé—®é¢˜ã€‚æ‰“å¼€æµè§ˆå™¨è°ƒè¯•ï¼Œæ¥å£æ•°æ®æ­£å¸¸è¯·æ±‚å¾—åˆ°ã€‚<br>
<img src="https://qinyu312.github.io/post-images/1607442458895.png" alt="" loading="lazy"></p>
<h2 id="fetch-å°è£…å¸¸ç”¨è¯·æ±‚">fetch å°è£…å¸¸ç”¨è¯·æ±‚</h2>
<p>å·¥å…·ç±»æ–‡ä»¶utilsä¸‹åˆ›å»º http.js ç”¨äºå°è£…å¸¸ç”¨çš„è¯·æ±‚æ–¹æ³•</p>
<pre><code>import qs from 'querystring'

&lt;!-- å¯¼å‡ºå°è£…çš„ get è¯·æ±‚ --&gt;
export function httpGet(url) {
    const result = fetch(url)
    return result
}

&lt;!-- å¯¼å‡ºå°è£…çš„ post è¯·æ±‚ --&gt;
export function httpPost(url, params) {
    &lt;!-- paramsä¸ºpostè¯·æ±‚æºå¸¦å‚æ•° --&gt;
    const result = fetch(url, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'Accept': 'application/json, text/plain, */*',
        },
        body: qs.stringify(params)
    })
}
</code></pre>
<p>ç„¶ååœ¨ utils åŒçº§åˆ›å»ºä¸€ä¸ª api æ–‡ä»¶ï¼Œç”¨äºç®¡ç†æ¥å£ï¼Œapi ä¸‹æ–°å»ºä¸€ä¸ª base.js ï¼Œç”¨äºå‘å¤–æš´éœ²æ¥å£çš„å‰ç½®æ¥å£åœ°å€å…¬å…±éƒ¨åˆ†(ä¸€èˆ¬æƒ…å†µä¸‹æ¥å£åœ°å€çš„å‰åŠéƒ¨åˆ†æ˜¯ä¸€è‡´çš„)ï¼Œç„¶åæ–°å»ºä¸€ä¸ª index.js ç”¨äºå®šä¹‰ä¸šåŠ¡æ¥å£è¯·æ±‚ç»Ÿä¸€ç®¡ç†ï¼Œæˆ–è€…åˆ›å»ºä¸åŒçš„åŠŸèƒ½åˆ†ç±» (å¦‚ï¼Œç™»å½•çš„æ¥å£å•ç‹¬å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œé¦–é¡µçš„æ¥å£å•ç‹¬å†™åœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œä¾¿äºç»´æŠ¤)<br>
base.js</p>
<pre><code>const base = {
    baseUrl: 'http://iwenwiki.com/api'
}
</code></pre>
<p>index.js</p>
<pre><code>import {httpGet, httpPost} from '../utils/http'
import base from './base'

&lt;!-- åœ¨ä¸‹é¢å®šä¹‰å„ç§ä¸šåŠ¡æ¥å£ --&gt;
const api = {
    &lt;!-- getè¯·æ±‚ --&gt;
    getUserId() {
        return httpGet(base.baseUrl + '/blueberrypai/getChengpinInfo.php');
    },
    &lt;!-- postè¯·æ±‚ --&gt;
    getLogin(params) {
        return httpPost(baseUrl + '/blueberrypai/login.php', params);
    }
}

&lt;!-- å®šä¹‰å®Œæˆåå¯¼å‡º api ,åœ¨éœ€è¦è°ƒç”¨å¤„å¯¼å…¥è°ƒç”¨å³å¯ --&gt;
export default api
</code></pre>
<p>è°ƒç”¨æ¥å£çš„æ–‡ä»¶ä¸‹</p>
<pre><code>import api from '../api'
&lt;!-- getè¯·æ±‚ä¸ç”¨æºå¸¦å‚æ•°ï¼Œç›´æ¥è·å–å¹¶æ‰“å°æ•°æ® --&gt;
api.getUserId().then(res =&gt; res.json()).then(data =&gt; {
    console.log(data)
})
&lt;!-- postè¯·æ±‚è°ƒç”¨æ¥å£æ—¶ä¼ å…¥å‚æ•°ï¼Œè·å–å¹¶æ‰“å°æ•°æ® --&gt;
api.getLogin({
    'user_id': 'iwen@qq.com',
    'password': 'iwen123',
    'verification_code': 'crfvw'
}).then(res =&gt; res.json()).then(data =&gt; {
    console.log(data)
})
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[jså¸¸ç”¨apié›†é”¦]]></title>
        <id>https://qinyu312.github.io/post/chang-yong-api-ji-jin/</id>
        <link href="https://qinyu312.github.io/post/chang-yong-api-ji-jin/">
        </link>
        <updated>2020-02-12T09:10:57.000Z</updated>
        <content type="html"><![CDATA[<p>##æ•°ç»„APIï¼š<br>
var pageIds = new Array();<br>
pageIds.push('A');<br>
//æ•°ç»„é•¿åº¦<br>
pageIds.length;<br>
//shiftï¼šåˆ é™¤åŸæ•°ç»„ç¬¬ä¸€é¡¹ï¼Œå¹¶è¿”å›åˆ é™¤å…ƒç´ çš„å€¼ï¼›å¦‚æœæ•°ç»„ä¸ºç©ºåˆ™è¿”å›undefined<br>
var a = [1,2,3,4,5];<br>
var b = a.shift(); //aï¼š[2,3,4,5] bï¼š1<br>
//unshiftï¼šå°†å‚æ•°æ·»åŠ åˆ°åŸæ•°ç»„å¼€å¤´ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦<br>
var a = [1,2,3,4,5];<br>
var b = a.unshift(-2,-1); //aï¼š[-2,-1,1,2,3,4,5] bï¼š7<br>
//æ³¨ï¼šåœ¨IE6.0ä¸‹æµ‹è¯•è¿”å›å€¼æ€»ä¸ºundefinedï¼ŒFF2.0ä¸‹æµ‹è¯•è¿”å›å€¼ä¸º7ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼ä¸å¯é ï¼Œéœ€è¦ç”¨è¿”å›å€¼æ—¶å¯ç”¨spliceä»£æ›¿æœ¬æ–¹æ³•æ¥ä½¿ç”¨ã€‚<br>
//popï¼šåˆ é™¤åŸæ•°ç»„æœ€åä¸€é¡¹ï¼Œå¹¶è¿”å›åˆ é™¤å…ƒç´ çš„å€¼ï¼›å¦‚æœæ•°ç»„ä¸ºç©ºåˆ™è¿”å›undefined<br>
var a = [1,2,3,4,5];<br>
var b = a.pop(); //aï¼š[1,2,3,4] bï¼š5<br>
//pushï¼šå°†å‚æ•°æ·»åŠ åˆ°åŸæ•°ç»„æœ«å°¾ï¼Œå¹¶è¿”å›æ•°ç»„çš„é•¿åº¦<br>
var a = [1,2,3,4,5];<br>
var b = a.push(6,7); //aï¼š[1,2,3,4,5,6,7] bï¼š7<br>
//concatï¼šè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæ˜¯å°†å‚æ•°æ·»åŠ åˆ°åŸæ•°ç»„ä¸­æ„æˆçš„<br>
var a = [1,2,3,4,5];<br>
var b = a.concat(6,7); //aï¼š[1,2,3,4,5] bï¼š[1,2,3,4,5,6,7]<br>
//splice(start,deleteCount,val1,val2,)ï¼šä»startä½ç½®å¼€å§‹åˆ é™¤deleteCounté¡¹ï¼Œå¹¶ä»è¯¥ä½ç½®èµ·æ’å…¥val1,val2,<br>
var a = [1,2,3,4,5];<br>
var b = a.splice(2,2,7,8,9); //aï¼š[1,2,7,8,9,5] bï¼š[3,4]<br>
var b = a.splice(0,1); //åŒshift<br>
a.splice(0,0,-2,-1); var b = a.length; //åŒunshift<br>
var b = a.splice(a.length-1,1); //åŒpop<br>
a.splice(a.length,0,6,7); var b = a.length; //åŒpush<br>
//reverseï¼šå°†æ•°ç»„ååº<br>
var a = [1,2,3,4,5];<br>
var b = a.reverse(); //aï¼š[5,4,3,2,1] bï¼š[5,4,3,2,1]<br>
//sort(orderfunction)ï¼šæŒ‰æŒ‡å®šçš„å‚æ•°å¯¹æ•°ç»„è¿›è¡Œæ’åº<br>
var a = [1,2,3,4,5];<br>
var b = a.sort(); //aï¼š[1,2,3,4,5] bï¼š[1,2,3,4,5]<br>
//slice(start,end)ï¼šè¿”å›ä»åŸæ•°ç»„ä¸­æŒ‡å®šå¼€å§‹ä¸‹æ ‡åˆ°ç»“æŸä¸‹æ ‡ä¹‹é—´çš„é¡¹ç»„æˆçš„æ–°æ•°ç»„<br>
var a = [1,2,3,4,5];<br>
var b = a.slice(2,5); //aï¼š[1,2,3,4,5] bï¼š[3,4,5]<br>
//join(separator)ï¼šå°†æ•°ç»„çš„å…ƒç´ ç»„èµ·ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»¥separatorä¸ºåˆ†éš”ç¬¦ï¼Œçœç•¥çš„è¯åˆ™ç”¨é»˜è®¤ç”¨é€—å·ä¸ºåˆ†éš”ç¬¦<br>
var a = [1,2,3,4,5];<br>
var b = a.join(&quot;|&quot;); //aï¼š[1,2,3,4,5] bï¼š&quot;1|2|3|4|5&quot;</p>
<p>##DOMå¸¸ç”¨APIï¼š<br>
getElementById(id) Node è¿”å›æŒ‡å®šç»“ç‚¹çš„å¼•ç”¨<br>
getElementsByTagName(name) NodeList è¿”å›æ–‡æ¡£ä¸­æ‰€æœ‰åŒ¹é…çš„å…ƒç´ çš„é›†åˆ<br>
createElement(name) Node Node<br>
createTextNode(text) Node åˆ›å»ºä¸€ä¸ªçº¯æ–‡æœ¬ç»“ç‚¹<br>
ownerDocument Document æŒ‡å‘è¿™ä¸ªèŠ‚ç‚¹æ‰€å±çš„æ–‡æ¡£<br>
documentElement Node è¿”å›htmlèŠ‚ç‚¹<br>
document.body Node è¿”å›bodyèŠ‚ç‚¹<br>
//elementæ–¹æ³•ï¼š<br>
getAttribute(attributeName) String è¿”å›æŒ‡å®šå±æ€§çš„å€¼<br>
setAttribute(attributeName,value) String ç»™å±æ€§èµ‹å€¼<br>
removeAttribute(attributeName) String ç§»é™¤æŒ‡å®šå±æ€§å’Œå®ƒçš„å€¼<br>
getElementsByTagName(name) NodeList è¿”å›ç»“ç‚¹å†…æ‰€æœ‰åŒ¹é…çš„å…ƒç´ çš„é›†åˆ<br>
//nodeæ–¹æ³•ï¼š<br>
appendChild(child) Node ç»™æŒ‡å®šç»“ç‚¹æ·»åŠ ä¸€ä¸ªæ–°çš„å­ç»“ç‚¹<br>
removeChild(child) Node ç§»é™¤æŒ‡å®šç»“ç‚¹çš„å­ç»“ç‚¹<br>
replaceChild(newChild,oldChild) Node æ›¿æ¢æŒ‡å®šç»“ç‚¹çš„å­ç»“ç‚¹<br>
insertBefore(newChild,refChild) Node åœ¨åŒä¸€å±‚çº§çš„ç»“ç‚¹å‰é¢æ’å…¥æ–°ç»“ç‚¹<br>
hasChildNodes() Boolean å¦‚æœç»“ç‚¹æœ‰å­ç»“ç‚¹åˆ™è¿”å›true<br>
//nodeå±æ€§ï¼š<br>
nodeName String ä»¥å­—ç¬¦ä¸²çš„æ ¼å¼å­˜æ”¾ç»“ç‚¹çš„åç§°<br>
nodeType String ä»¥æ•´å‹æ•°æ®æ ¼å¼å­˜æ”¾ç»“ç‚¹çš„ç±»å‹<br>
nodeValue String ä»¥å¯ç”¨çš„æ ¼å¼å­˜æ”¾ç»“ç‚¹çš„å€¼<br>
parentNode Node æŒ‡å‘ç»“ç‚¹çš„çˆ¶ç»“ç‚¹çš„å¼•ç”¨<br>
childNodes NodeList æŒ‡å‘å­ç»“ç‚¹çš„å¼•ç”¨çš„é›†åˆ<br>
firstChild Node æŒ‡å‘å­ç»“ç‚¹ç»“åˆä¸­çš„ç¬¬ä¸€ä¸ªå­ç»“ç‚¹çš„å¼•ç”¨<br>
lastChild Node æŒ‡å‘å­ç»“ç‚¹ç»“åˆä¸­çš„æœ€åä¸€ä¸ªå­ç»“ç‚¹çš„å¼•ç”¨<br>
previousSibling Node æŒ‡å‘å‰ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ï¼›å¦‚æœè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯å…„å¼ŸèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥å€¼ä¸ºnull<br>
nextSibling Node æŒ‡å‘åä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ï¼›å¦‚æœè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯å…„å¼ŸèŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¯¥å€¼ä¸ºnull</p>
<p>##æ•°å­—æ–¹æ³•API<br>
//Â·æ•°å­—å‹(Number)<br>
//1.å£°æ˜<br>
var i = 1;<br>
var i = new Number(1);<br>
//2.å­—ç¬¦ä¸²ä¸æ•°å­—é—´çš„è½¬æ¢<br>
var i = 1;<br>
var str = i.toString(); //ç»“æœ: &quot;1&quot;<br>
var str = new String(i); //ç»“æœ: &quot;1&quot;<br>
i = parseInt(str); //ç»“æœ: 1<br>
i = parseFloat(str); //ç»“æœ: 1.0<br>
//æ³¨æ„: parseInt,parseFloatä¼šæŠŠä¸€ä¸ªç±»ä¼¼äº&quot;32G&quot;çš„å­—ç¬¦ä¸²,å¼ºåˆ¶è½¬æ¢æˆ32<br>
//3.åˆ¤æ–­æ˜¯å¦ä¸ºæœ‰æ•ˆçš„æ•°å­—<br>
var i = 123; var str = &quot;string&quot;;<br>
if( typeof i == &quot;number&quot; ){ } //true<br>
//æŸäº›æ–¹æ³•(å¦‚:parseInt,parseFloat)ä¼šè¿”å›ä¸€ä¸ªç‰¹æ®Šçš„å€¼NaN(Not a Number)<br>
//è¯·æ³¨æ„ç¬¬2ç‚¹ä¸­çš„[æ³¨æ„],æ­¤æ–¹æ³•ä¸å®Œå…¨é€‚åˆåˆ¤æ–­ä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦æ˜¯æ•°å­—å‹!!<br>
i = parseInt(str);<br>
if( isNaN(i) ){ }<br>
//4.æ•°å­—å‹æ¯”è¾ƒ<br>
//æ­¤çŸ¥è¯†ä¸[å­—ç¬¦ä¸²æ¯”è¾ƒ]ç›¸åŒ<br>
///5.å°æ•°è½¬æ•´æ•°<br>
var f = 1.5;<br>
var i = Math.round(f); //ç»“æœ:2 (å››èˆäº”å…¥)<br>
var i = Math.ceil(f); //ç»“æœ:2 (è¿”å›å¤§äºfçš„æœ€å°æ•´æ•°)<br>
var i = Math.floor(f); //ç»“æœ:1 (è¿”å›å°äºfçš„æœ€å¤§æ•´æ•°)<br>
//6.æ ¼å¼åŒ–æ˜¾ç¤ºæ•°å­—<br>
var i = 3.14159;<br>
//æ ¼å¼åŒ–ä¸ºä¸¤ä½å°æ•°çš„æµ®ç‚¹æ•°<br>
var str = i.toFixed(2); //ç»“æœ: &quot;3.14&quot;<br>
//æ ¼å¼åŒ–ä¸ºäº”ä½æ•°å­—çš„æµ®ç‚¹æ•°(ä»å·¦åˆ°å³äº”ä½æ•°å­—,ä¸å¤Ÿè¡¥é›¶)<br>
var str = i.toPrecision(5); //ç»“æœ: &quot;3.1415&quot;<br>
//7.Xè¿›åˆ¶æ•°å­—çš„è½¬æ¢<br>
//ä¸æ˜¯å¾ˆæ‡‚ -.-<br>
var i = parseInt(&quot;0x1f&quot;,16);<br>
var i = parseInt(i,10);<br>
var i = parseInt(&quot;11010011&quot;,2);<br>
//8.éšæœºæ•°<br>
//è¿”å›0-1ä¹‹é—´çš„ä»»æ„å°æ•°<br>
var rnd = Math.random();<br>
//è¿”å›0-nä¹‹é—´çš„ä»»æ„æ•´æ•°(ä¸åŒ…æ‹¬n)<br>
var rnd = Math.floor(Math.random() * n)</p>
<p>##æ—¥æœŸæ–¹æ³•API<br>
//Â·æ—¥æœŸå‹(Date)<br>
//1.å£°æ˜<br>
var myDate = new Date(); //ç³»ç»Ÿå½“å‰æ—¶é—´<br>
var myDate = new Date(yyyy, mm, dd, hh, mm, ss);<br>
var myDate = new Date(yyyy, mm, dd);<br>
var myDate = new Date(&quot;monthName dd, yyyy hh:mm:ss&quot;);<br>
var myDate = new Date(&quot;monthName dd, yyyy&quot;);<br>
var myDate = new Date(epochMilliseconds);<br>
//2.è·å–æ—¶é—´çš„æŸéƒ¨ä»½<br>
var myDate = new Date();<br>
myDate.getYear(); //è·å–å½“å‰å¹´ä»½(2ä½)<br>
myDate.getFullYear(); //è·å–å®Œæ•´çš„å¹´ä»½(4ä½,1970-????)<br>
myDate.getMonth(); //è·å–å½“å‰æœˆä»½(0-11,0ä»£è¡¨1æœˆ)<br>
myDate.getDate(); //è·å–å½“å‰æ—¥(1-31)<br>
myDate.getDay(); //è·å–å½“å‰æ˜ŸæœŸX(0-6,0ä»£è¡¨æ˜ŸæœŸå¤©)<br>
myDate.getTime(); //è·å–å½“å‰æ—¶é—´(ä»1970.1.1å¼€å§‹çš„æ¯«ç§’æ•°) æ—¶é—´æˆ³ï¼ï¼<br>
myDate.getHours(); //è·å–å½“å‰å°æ—¶æ•°(0-23)<br>
myDate.getMinutes(); //è·å–å½“å‰åˆ†é’Ÿæ•°(0-59)<br>
myDate.getSeconds(); //è·å–å½“å‰ç§’æ•°(0-59)<br>
myDate.getMilliseconds(); //è·å–å½“å‰æ¯«ç§’æ•°(0-999)<br>
myDate.toLocaleDateString(); //è·å–å½“å‰æ—¥æœŸ<br>
myDate.toLocaleTimeString(); //è·å–å½“å‰æ—¶é—´<br>
myDate.toLocaleString( ); //è·å–æ—¥æœŸä¸æ—¶é—´<br>
//3.è®¡ç®—ä¹‹å‰æˆ–æœªæ¥çš„æ—¶é—´<br>
var myDate = new Date();<br>
myDate.setDate(myDate.getDate() + 10); //å½“å‰æ—¶é—´åŠ 10å¤©<br>
//ç±»ä¼¼çš„æ–¹æ³•éƒ½åŸºæœ¬ç›¸åŒ,ä»¥setå¼€å¤´,å…·ä½“å‚è€ƒç¬¬2ç‚¹<br>
//4.è®¡ç®—ä¸¤ä¸ªæ—¥æœŸçš„åç§»é‡<br>
var i = daysBetween(beginDate,endDate); //è¿”å›å¤©æ•°<br>
var i = beginDate.getTimezoneOffset(endDate); //è¿”å›åˆ†é’Ÿæ•°<br>
//5.æ£€æŸ¥æœ‰æ•ˆæ—¥æœŸ<br>
//checkDate() åªå…è®¸&quot;mm-dd-yyyy&quot;æˆ–&quot;mm/dd/yyyy&quot;ä¸¤ç§æ ¼å¼çš„æ—¥æœŸ<br>
if( checkDate(&quot;2006-01-01&quot;) ){ }<br>
//æ­£åˆ™è¡¨è¾¾å¼(è‡ªå·±å†™çš„æ£€æŸ¥ yyyy-mm-dd, yy-mm-dd, yyyy/mm/dd, yy/mm/dd å››ç§)<br>
var r = /^(\d{2}|\d{4})[/-]\d{1,2}[/-]\d{1,2}$/;<br>
if( r.test( myString ) ){ }</p>
<p>##å­—ç¬¦ä¸²æ–¹æ³•API<br>
//Â·å­—ç¬¦ä¸²(String)<br>
//1.å£°æ˜<br>
var myString = new String(&quot;Every good boy does fine.&quot;);<br>
var myString = &quot;Every good boy does fine.&quot;;<br>
//2.å­—ç¬¦ä¸²è¿æ¥<br>
var myString = &quot;Every &quot; + &quot;good boy &quot; + &quot;does fine.&quot;;<br>
var myString = &quot;Every &quot;; myString += &quot;good boy does fine.&quot;;<br>
//3.æˆªå–å­—ç¬¦ä¸²<br>
//æˆªå–ç¬¬ 6 ä½å¼€å§‹çš„å­—ç¬¦<br>
var myString = &quot;Every good boy does fine.&quot;;<br>
var section = myString.substring(6); //ç»“æœ: &quot;good boy does fine.&quot;<br>
//æˆªå–ç¬¬ 0 ä½å¼€å§‹è‡³ç¬¬ 10 ä½ä¸ºæ­¢çš„å­—ç¬¦<br>
var myString = &quot;Every good boy does fine.&quot;;<br>
var section = myString.substring(0,10); //ç»“æœ: &quot;Every good&quot;<br>
//æˆªå–ä»ç¬¬ 11 ä½åˆ°å€’æ•°ç¬¬ 6 ä½ä¸ºæ­¢çš„å­—ç¬¦<br>
var myString = &quot;Every good boy does fine.&quot;;<br>
var section = myString.slice(11,-6); //ç»“æœ: &quot;boy does&quot;<br>
//ä»ç¬¬ 6 ä½å¼€å§‹æˆªå–é•¿åº¦ä¸º 4 çš„å­—ç¬¦<br>
var myString = &quot;Every good boy does fine.&quot;;<br>
var section = myString.substr(6,4); //ç»“æœ: &quot;good&quot;<br>
//4.è½¬æ¢å¤§å°å†™<br>
var myString = &quot;Hello&quot;;<br>
var lcString = myString.toLowerCase(); //ç»“æœ: &quot;hello&quot;<br>
var ucString = myString.toUpperCase(); //ç»“æœ: &quot;HELLO&quot;<br>
//5.å­—ç¬¦ä¸²æ¯”è¾ƒ<br>
var aString = &quot;Hello!&quot;;<br>
var bString = new String(&quot;Hello!&quot;);<br>
if( aString == &quot;Hello!&quot; ){ } //ç»“æœ: true<br>
if( aString == bString ){ } //ç»“æœ: true<br>
if( aString === bString ){ } //ç»“æœ: false (ä¸¤ä¸ªå¯¹è±¡ä¸åŒ,å°½ç®¡å®ƒä»¬çš„å€¼ç›¸åŒ)<br>
//6.æ£€ç´¢å­—ç¬¦ä¸²<br>
var myString = &quot;hello everybody.&quot;;<br>
// å¦‚æœæ£€ç´¢ä¸åˆ°ä¼šè¿”å›-1,æ£€ç´¢åˆ°çš„è¯è¿”å›åœ¨è¯¥ä¸²ä¸­çš„èµ·å§‹ä½ç½®<br>
if( myString.indexOf(&quot;every&quot;) &gt; -1 ){ } //ç»“æœ: true<br>
////7.æŸ¥æ‰¾æ›¿æ¢å­—ç¬¦ä¸²<br>
var myString = &quot;I is your father.&quot;;<br>
var result = myString.replace(&quot;is&quot;,&quot;am&quot;); //ç»“æœ: &quot;I am your father.&quot;<br>
//8.ç‰¹æ®Šå­—ç¬¦:<br>
//\b : åé€€ç¬¦ \t : æ°´å¹³åˆ¶è¡¨ç¬¦<br>
//\n : æ¢è¡Œç¬¦ \v : å‚ç›´åˆ¶è¡¨ç¬¦<br>
//\f : åˆ†é¡µç¬¦ \r : å›è½¦ç¬¦<br>
//&quot; : åŒå¼•å· ' : å•å¼•å·<br>
//\ : åæ–œæ†<br>
//9.å°†å­—ç¬¦è½¬æ¢æˆUnicodeç¼–ç <br>
var myString = &quot;hello&quot;;<br>
var code = myString.charCodeAt(3); //è¿”å›&quot;l&quot;çš„Unicodeç¼–ç (æ•´å‹)<br>
var char = String.fromCharCode(66); //è¿”å›Unicodeä¸º66çš„å­—ç¬¦<br>
//10.å°†å­—ç¬¦ä¸²è½¬æ¢æˆURLç¼–ç <br>
var myString = &quot;hello all&quot;;<br>
var code = encodeURI(myString); //ç»“æœ: &quot;hello%20all&quot;<br>
var str = decodeURI(code); //ç»“æœ: &quot;hello all&quot;<br>
//ç›¸åº”çš„è¿˜æœ‰: encodeURIComponent() decodeURIComponent()</p>
<p>##æ•°å­¦æ–¹æ³•API</p>
<ol>
<li>Math.abs(num) : è¿”å›numçš„ç»å¯¹å€¼</li>
<li>Math.acos(num) : è¿”å›numçš„åä½™å¼¦å€¼</li>
<li>Math.asin(num) : è¿”å›numçš„åæ­£å¼¦å€¼</li>
<li>Math.atan(num) : è¿”å›numçš„åæ­£åˆ‡å€¼</li>
<li>Math.atan2(y,x) : è¿”å›yé™¤ä»¥xçš„å•†çš„åæ­£åˆ‡å€¼</li>
<li>Math.ceil(num) : è¿”å›å¤§äºnumçš„æœ€å°æ•´æ•°</li>
<li>Math.cos(num) : è¿”å›numçš„ä½™å¼¦å€¼</li>
<li>Math.exp(x) : è¿”å›ä»¥è‡ªç„¶æ•°ä¸ºåº•,xæ¬¡å¹‚çš„æ•°</li>
<li>Math.floor(num) : è¿”å›å°äºnumçš„æœ€å¤§æ•´æ•°<br>
10.Math.log(num) : è¿”å›numçš„è‡ªç„¶å¯¹æ•°<br>
11.Math.max(num1,num2) : è¿”å›num1å’Œnum2ä¸­è¾ƒå¤§çš„ä¸€ä¸ª<br>
12.Math.min(num1,num2) : è¿”å›num1å’Œnum2ä¸­è¾ƒå°çš„ä¸€ä¸ª<br>
13.Math.pow(x,y) : è¿”å›xçš„yæ¬¡æ–¹çš„å€¼<br>
14.Math.random() : è¿”å›0åˆ°1ä¹‹é—´çš„ä¸€ä¸ªéšæœºæ•°<br>
15.Math.round(num) : è¿”å›numå››èˆäº”å…¥åçš„å€¼<br>
16.Math.sin(num) : è¿”å›numçš„æ­£å¼¦å€¼<br>
17.Math.sqrt(num) : è¿”å›numçš„å¹³æ–¹æ ¹<br>
18.Math.tan(num) : è¿”å›numçš„æ­£åˆ‡å€¼<br>
19.Math.E : è‡ªç„¶æ•°(2.718281828459045)<br>
20.Math.LN2 : 2çš„è‡ªç„¶å¯¹æ•°(0.6931471805599453)<br>
21.Math.LN10 : 10çš„è‡ªç„¶å¯¹æ•°(2.302585092994046)<br>
22.Math.LOG2E : log 2 ä¸ºåº•çš„è‡ªç„¶æ•°(1.4426950408889634)<br>
23.Math.LOG10E : log 10 ä¸ºåº•çš„è‡ªç„¶æ•°(0.4342944819032518)<br>
24.Math.PI : Ï€(3.141592653589793)<br>
25.Math.SQRT1_2 : 1/2çš„å¹³æ–¹æ ¹(0.7071067811865476)<br>
26.Math.SQRT2 : 2çš„å¹³æ–¹æ ¹(1.4142135623730951)</li>
</ol>
<h2 id="è·å–æ—¶é—´æˆ³å­—ç¬¦ä¸²">è·å–æ—¶é—´æˆ³å­—ç¬¦ä¸²</h2>
<pre><code>new Date() 
&lt;!-- newä¸€ä¸ªdataå¯¹è±¡ï¼Œå½“å‰æ—¥æœŸå’Œæ—¶é—´ --&gt;
let time = Date.parse(new Date())
toLocaleString() 
&lt;!-- æ–¹æ³•å¯æ ¹æ®æœ¬åœ°æ—¶é—´æŠŠ Date å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœ --&gt;
</code></pre>
<h2 id="sessionstorageå­˜å–">sessionStorageå­˜å–</h2>
<pre><code>var cun = sessionStorage.setItem('cun')
var qu = sessionStorage.getItem('qu')
var cun1 = localStorage.setItem('cun1')
var qu1 = localStorage.getItem('qu1')
</code></pre>
<h2 id="å¸¸ç”¨æ­£åˆ™">å¸¸ç”¨æ­£åˆ™</h2>
<pre><code>&lt;!-- èº«ä»½è¯ --&gt;
let idCardReg = /^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/;
&lt;!-- æ‰‹æœºå· --&gt;
let phoneReg = /(^1\d{10}$)|(^[0-9]\d{7}$)/;
&lt;!-- é“¶è¡Œå¡ 16 - 19ä½æ•°å­— --&gt;
let pattern = /^([1-9]{1})(\d{16}|\d{19})$/;
</code></pre>
<h2 id="é˜²æŠ–-debounce-å°†å¤šæ¬¡é«˜é¢‘æ“ä½œä¼˜åŒ–ä¸ºåªåœ¨æœ€åä¸€æ¬¡æ‰§è¡Œé€šå¸¸ä½¿ç”¨çš„åœºæ™¯æ˜¯ç”¨æˆ·è¾“å…¥åªéœ€å†è¾“å…¥å®Œæˆååšä¸€æ¬¡è¾“å…¥æ ¡éªŒå³å¯">é˜²æŠ– (debounce): å°†å¤šæ¬¡é«˜é¢‘æ“ä½œä¼˜åŒ–ä¸ºåªåœ¨æœ€åä¸€æ¬¡æ‰§è¡Œï¼Œé€šå¸¸ä½¿ç”¨çš„åœºæ™¯æ˜¯ï¼šç”¨æˆ·è¾“å…¥ï¼Œåªéœ€å†è¾“å…¥å®Œæˆååšä¸€æ¬¡è¾“å…¥æ ¡éªŒå³å¯ã€‚</h2>
<pre><code>&lt;!-- 1.  --&gt;
function debounce(fn, wait, immediate) {
    let timer = null
    return function() {
        let args = arguments
        let context = this
        if (immediate &amp;&amp; !timer) {
            fn.apply(context, args)
        }
        if (timer) clearTimeout(timer)
        timer = setTimeout(() =&gt; {
            fn.apply(context, args)
        }, wait)
    }
}
&lt;!-- 2. --&gt;
function debounce(func, wait) {
    let timeout = null
    return function() {
        let context = this
        let args = arguments
        if (timeout) clearTimeout(timeout)
        timeout = setTimeout(() =&gt; {
            func.apply(context, args)
        }, wait)
    }
}
</code></pre>
<h2 id="èŠ‚æµthrottle-æ¯éš”ä¸€æ®µæ—¶é—´åæ‰§è¡Œä¸€æ¬¡ä¹Ÿå°±æ˜¯é™ä½é¢‘ç‡å°†é«˜é¢‘æ“ä½œä¼˜åŒ–æˆä½é¢‘æ“ä½œé€šå¸¸ä½¿ç”¨åœºæ™¯-æ»šåŠ¨æ¡äº‹ä»¶-æˆ–è€…-resize-äº‹ä»¶é€šå¸¸æ¯éš”-100~500-msæ‰§è¡Œä¸€æ¬¡å³å¯">èŠ‚æµ(throttle): æ¯éš”ä¸€æ®µæ—¶é—´åæ‰§è¡Œä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯é™ä½é¢‘ç‡ï¼Œå°†é«˜é¢‘æ“ä½œä¼˜åŒ–æˆä½é¢‘æ“ä½œï¼Œé€šå¸¸ä½¿ç”¨åœºæ™¯: æ»šåŠ¨æ¡äº‹ä»¶ æˆ–è€… resize äº‹ä»¶ï¼Œé€šå¸¸æ¯éš” 100~500 msæ‰§è¡Œä¸€æ¬¡å³å¯</h2>
<pre><code>&lt;!-- 1. --&gt;
function throttle(fn, wait, immediate) {
    let timer = null
    let callNow = immediate
    return function() {
        let context = this,
            args = arguments
        if (callNow) {
            fn.apply(context, args)
            callNow = false
        }
        if (!timer) {
            timer = setTimeout(() =&gt; {
                fn.apply(context, args)
                timer = null
            }, wait)
        }
    }
}
&lt;!-- 2. --&gt;
function throttle(func, wait) {
    let timeout = null
    return function() {
        let context = this
        let args = arguments
        if (!timeout) {
            timeout = setTimeout(() =&gt; {
                timeout = null
                func.apply(context, args)
            }, wait)
        }
    }
}
&lt;!-- 3. --&gt;
function throttle(func, wait) {
    var prev = 0;
    return function() {
        let now = Date.now();
        let context = this;
        let args = arguments;
        if (now - prev &gt; wait) {
            func.apply(context, args);
            prev = now;
        }
    }
}
</code></pre>
<h2 id="js-å®šæ—¶å™¨æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•">js å®šæ—¶å™¨æœ‰ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•ï¼š</h2>
<pre><code>setInterval() ï¼šæŒ‰ç…§æŒ‡å®šçš„å‘¨æœŸï¼ˆä»¥æ¯«ç§’è®¡ï¼‰æ¥è°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼ã€‚æ–¹æ³•ä¼šä¸åœåœ°è°ƒç”¨å‡½æ•°ï¼Œç›´åˆ° clearInterval() è¢«è°ƒç”¨æˆ–çª—å£è¢«å…³é—­ã€‚ setTimeout() ï¼šåœ¨æŒ‡å®šçš„æ¯«ç§’æ•°åè°ƒç”¨å‡½æ•°æˆ–è®¡ç®—è¡¨è¾¾å¼
setTimeout (function() {
    alert(456)
},2000)
&lt;!-- ES61å†™æ³• --&gt;
setTimeout(() =&gt; {
    
}2000)
</code></pre>
<p>##æ‰‹æœºå·ä¸­é—´å››ä½éšè—</p>
<pre><code>this.newTel = this.tel.substr(0,3) + &quot;****&quot; + this.tel.substr(7);
</code></pre>
<h2 id="æ•°ç»„æ‰å¹³åŒ–">æ•°ç»„æ‰å¹³åŒ–</h2>
<p>å¯¹äº[1, [1,2], [1,2,3]]è¿™æ ·å¤šå±‚åµŒå¥—çš„æ•°ç»„ï¼Œæˆ‘ä»¬å¦‚ä½•å°†å…¶æ‰å¹³åŒ–ä¸º[1, 1, 2, 1, 2, 3]è¿™æ ·çš„ä¸€ç»´æ•°ç»„å‘¢ï¼š</p>
<pre><code>// 1.ES6çš„flat()
const arr = [1, [1,2], [1,2,3]]
arr.flat(Infinity)  // [1, 1, 2, 1, 2, 3]

// 2.åºåˆ—åŒ–åæ­£åˆ™
const arr = [1, [1,2], [1,2,3]]
const str = `[${JSON.stringify(arr).replace(/(\[|\])/g, '')}]`
JSON.parse(str)   // [1, 1, 2, 1, 2, 3]

// 3.é€’å½’ å¯¹äºæ ‘çŠ¶ç»“æ„çš„æ•°æ®ï¼Œæœ€ç›´æ¥çš„å¤„ç†æ–¹å¼å°±æ˜¯é€’å½’
const arr = [1, [1,2], [1,2,3]]
function flat(arr) {
  let result = []
  for (const item of arr) {
    item instanceof Array ? result = result.concat(flat(item)) : result.push(item)
  }
  return result
}
flat(arr) // [1, 1, 2, 1, 2, 3]

// 4.reduce()é€’å½’
const arr = [1, [1,2], [1,2,3]]
function flat(arr) {
  return arr.reduce((prev, cur) =&gt; {
    return prev.concat(cur instanceof Array ? flat(cur) : cur)
  }, [])
}
flat(arr)  // [1, 1, 2, 1, 2, 3]

// 5.è¿­ä»£+å±•å¼€è¿ç®—ç¬¦
let arr = [1, [1,2], [1,2,3]]
while (arr.some(Array.isArray)) {
  arr = [].concat(...arr);
}
console.log(arr)  // [1, 1, 2, 1, 2, 3]
</code></pre>
<h2 id="å»¶è¿Ÿå‡½æ•°delay">å»¶è¿Ÿå‡½æ•°delay</h2>
<pre><code>const delay = ms =&gt; new Promise((resolve, reject) =&gt; setTimeout(resolve, ms))
const getData = status =&gt; new Promise((resolve, reject) =&gt; {
    status ? resolve('done') : reject('fail')
})
const getRes = async (data) =&gt; {
    try {
        const res = await getData(data)
        const timestamp = new Date().getTime()
        await delay(1000)
        console.log(res, new Date().getTime() - timestamp)
    } catch (error) {
        console.log(error)
    }
}
getRes(true) // éš”äº†1ç§’
</code></pre>
<h2 id="åˆ†å‰²æŒ‡å®šé•¿åº¦çš„å…ƒç´ æ•°ç»„">åˆ†å‰²æŒ‡å®šé•¿åº¦çš„å…ƒç´ æ•°ç»„</h2>
<pre><code>const listChunk = (list, size = 1, cacheList = []) =&gt; {
    const tmp = [...list]
    if (size &lt;= 0) {
        return cacheList
    }
    while (tmp.length) {
        cacheList.push(tmp.splice(0, size))
    }
    return cacheList
}
console.log(listChunk([1, 2, 3, 4, 5, 6, 7, 8, 9])) // [[1], [2], [3], [4], [5], [6], [7], [8], [9]]
console.log(listChunk([1, 2, 3, 4, 5, 6, 7, 8, 9], 3)) // [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
console.log(listChunk([1, 2, 3, 4, 5, 6, 7, 8, 9], 0)) // []
console.log(listChunk([1, 2, 3, 4, 5, 6, 7, 8, 9], -1)) // []
</code></pre>
<h2 id="å‡½æ•°æŸ¯é‡ŒåŒ–">å‡½æ•°æŸ¯é‡ŒåŒ–</h2>
<pre><code>const curring = fn =&gt; {
    const { length } = fn
    const curried = (...args) =&gt; {
        return (args.length &gt;= length
              ? fn(...args)
              : (...args2) =&gt; curried(...args.concat(args2)))
    }
    return curried
}
const listMerge = (a, b, c) =&gt; [a, b, c]
const curried = curring(listMerge)
console.log(curried(1)(2)(3)) // [1, 2, 3]
console.log(curried(1, 2)(3)) // [1, 2, 3]
console.log(curried(1, 2, 3)) // [1, 2, 3]
</code></pre>
<h2 id="å­—ç¬¦ä¸²å‰é¢ç©ºæ ¼å»é™¤ä¸æ›¿æ¢">å­—ç¬¦ä¸²å‰é¢ç©ºæ ¼å»é™¤ä¸æ›¿æ¢</h2>
<pre><code>const trimStart = str =&gt; str.replace(new RegExp('^([\\s]*)(.*)$'), '$2')
console.log(trimStart(' abc ')) // abc  
console.log(trimStart('123 ')) // 123  
</code></pre>
<h2 id="å­—ç¬¦ä¸²åé¢ç©ºæ ¼å»é™¤ä¸æ›¿æ¢">å­—ç¬¦ä¸²åé¢ç©ºæ ¼å»é™¤ä¸æ›¿æ¢</h2>
<pre><code>const trimEnd = str =&gt; str.replace(new RegExp('^(.*?)([\\s]*)$'), '$1')
console.log(trimEnd(' abc ')) //   abc  
console.log(trimEnd('123 ')) // 123  
</code></pre>
<h2 id="å»é™¤å­—ç¬¦ä¸²ä¸­çš„htmlä»£ç ">å»é™¤å­—ç¬¦ä¸²ä¸­çš„htmlä»£ç </h2>
<pre><code>const removeHTML = (str = '') =&gt; str.replace(/&lt;[\/\!]*[^&lt;&gt;]*&gt;/ig, '')
console.log(removeHTML('&lt;h1&gt;å“ˆå“ˆå“ˆå“ˆ&lt;å‘µå‘µå‘µ&lt;/h1&gt;')) // å“ˆå“ˆå“ˆå“ˆ&lt;å‘µå‘µå‘µ
</code></pre>
<h2 id="åˆ¤æ–­å±å¹•æ˜¯å¦æ—‹è½¬">åˆ¤æ–­å±å¹•æ˜¯å¦æ—‹è½¬</h2>
<pre><code>function orientationChange() {
	switch (window.orientation) {ã€€ã€€
		case 0:
			alert(&quot;è‚–åƒæ¨¡å¼ 0,screen-width: &quot; + screen.width + &quot;; screen-height:&quot; + screen.height);
			break;ã€€ã€€
		case -90:
			alert(&quot;å·¦æ—‹ -90,screen-width: &quot; + screen.width + &quot;; screen-height:&quot; + screen.height);
			break;ã€€ã€€
		case 90:
			alert(&quot;å³æ—‹ 90,screen-width: &quot; + screen.width + &quot;; screen-height:&quot; + screen.height);
			break;ã€€ã€€
		case 180:
			ã€€ã€€alert(&quot;é£æ™¯æ¨¡å¼ 180,screen-width: &quot; + screen.width + &quot;; screen-height:&quot; + screen.height);ã€€ã€€
			break;
	};
};
</code></pre>
]]></content>
    </entry>
</feed>